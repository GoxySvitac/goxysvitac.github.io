!function(t){"use strict";var s=function(){return B.t(this,"")},i=i||{};class h{static substr(t,s,i){if(null==i)i=t.length;else if(i<0){if(0!=s)return"";i=t.length+i}return t.substr(s,i)}static remove(t,s){let i=t.indexOf(s);return-1!=i&&(t.splice(i,1),!0)}static now(){return Date.now()}}h.i=!0,Math.i=!0;class e{static random(t){return t<=0?0:Math.floor(Math.random()*t)}}e.i=!0;class n{static h(t,s){let i="";do{i="0123456789ABCDEF".charAt(15&t)+i,t>>>=4}while(t>0);if(null!=s)for(;i.length<s;)i="0"+i;return i}}n.i=!0;class r{constructor(){r.o||this.l()}l(){this.u=[],this._=[],this.children=[],this.z=0,this.visible=!0,this.g=!1,r.M.push(this)}p(){return null==this.parent?this.x:this.parent.p()+this.x}m(){return null==this.parent?this.y:this.parent.m()+this.y}S(){return this.width}k(){return this.height}v(t){this.children.push(t),t.parent=this}P(t){this.C=t}L(t){this._.push(t)}A(t){this.z=t}G(){this.children.sort((function(t,s){return t.z-s.z}));let t=0,s=this.children;for(;t<s.length;)s[t++].G()}N(t){}F(){}O(t){if(!this.visible)return;this.N(t);let s=0,i=this.children;for(;s<i.length;)i[s++].O(t)}T(){let t=0,s=this.children;for(;t<s.length;)s[t++].T();null!=this.C&&this.C.T(this)}addEventListener(t){this.u.push(t)}removeEventListener(t){h.remove(this.u,t)}fireEvent(t){let s=0,i=this.u;for(;s<i.length;){let h=i[s];++s,-1!=h.R().indexOf(t.name)&&h.D(t)}}static B(t){let s=0,i=r.M;for(;s<i.length;){let h=i[s];++s,null==h.parent&&h.O(t)}}static W(){let t=0,s=r.M;for(;t<s.length;){let i=s[t];++t,null==i.parent&&i.T()}}static I(){let t=[],s=0,i=r.M;for(;s<i.length;){let h=i[s];++s,h.u=[],h.g?t.push(h):h._=[]}r.M=t}static U(){let t=0,s=r.M;for(;t<s.length;)s[t++].F()}static H(t){let s=0,i=null,h=0,e=r.M;for(;h<e.length;){let n=e[h];++h,0!=n._.length&&(n.z>=s&&t.x>=n.p()&&t.x<n.p()+n.width&&t.y>=n.m()&&t.y<n.m()+n.height&&(s=n.z,i=n))}if(r.Y=i,null!=i){t.x-=i.p(),t.y-=i.m(),t.component=i;let s=0,h=i._;for(;s<h.length;)h[s++].V(t)}}static q(t){if(null!=r.Y){t.x-=r.Y.p(),t.y-=r.Y.m(),t.component=r.Y;let s=0,i=r.Y._;for(;s<i.length;)i[s++].K(t);r.Y=null}}static j(t){if(null!=r.Y){t.x-=r.Y.p(),t.y-=r.Y.m(),t.component=r.Y;let s=0,i=r.Y._;for(;s<i.length;)i[s++].X(t)}}static Z(t){let s=0,i=null,h=0,e=r.M;for(;h<e.length;){let n=e[h];++h,0!=n._.length&&(n.z>=s&&t.x>=n.p()&&t.x<n.p()+n.width&&t.y>=n.m()&&t.y<n.m()+n.height&&(s=n.z,i=n))}if(r.J!=i){if(null!=r.J){t.component=r.J;let s=0,i=r.J._;for(;s<i.length;)i[s++].$(t)}if(null!=i){t.component=i;let s=0,h=i._;for(;s<h.length;)h[s++].tt(t)}r.J=i}}}r.i=!0;class o extends r{constructor(){r.o?super():(r.o=!0,super(),r.o=!1,this.l())}l(){this.fontSize=24,this.st=0,this.it=48,this.ht=new W({et:30}),super.l(),o.nt=this,this.g=!0}rt(t){this.ht.ot(t),this.ht.lt(0,this.it,this.ut,this.dt)}}o.i=!0;class l extends o{constructor(){r.o=!0,super(),r.o=!1,this.l()}l(){this.ct=h.now()/1e3,this.ft=[],this.wt=!1,this._t=10,this.gt=1,this.Mt=0,this.xt=[],this.St=[],this.bt=[],this.yt=0,this.kt=0,this.vt=0,this.Pt=0,this.Et=11,this.level=1,this.input="",this.direction=a.Ct,this.Lt=5,this.At=0,this.startTime=0,this.state=u.Gt,this.Nt=3,this.Ft=2,this.Ot=1,super.l(),this.ht.zt("AudioVisionR"),this.Tt(960,540),this.ht.Rt(2),this.Dt(2),this.Bt(),this.Wt(),this.ht.It(U(this,this.Ut)),this.ht.Ht(this),this.ht.Yt(this)}Tt(t,s){this.Vt=t,this.qt=s,this.ut=t,this.dt=s-this.it-this.st,this.Kt=(this.dt-this.it)/l.jt.length,this.Xt=(this.dt-this.it)/l.Zt.length,this.ht.Qt(t,s)}Dt(t){this.Jt=t,this.$t=Math.round(this.ut/t),this.ts=Math.round(this.dt/t);let s=[],i=0,h=this.ts;for(;i<h;){++i;let t=[],h=0,e=this.$t;for(;h<e;)++h,t.push(0);s.push(t)}this.ss=s;let e=[],n=0,r=this.ts;for(;n<r;){++n;let t=[],s=0,i=this.$t;for(;s<i;)++s,t.push(0);e.push(t)}this.hs=e}Bt(){this.es=new Array(this.Nt+1);let t=0,s=this.es.length;for(;t<s;)this.es[t++]=new x(0,0,0)}Ut(t){let s=h.now()/1e3;switch(this.ns=s-this.ct,this.ct=s,this.state.rs){case 0:case 5:break;case 1:this.os(),new g(this),new M(this),this.state=u.ls;break;case 2:this.os(),new _(this,this.Ot,this.Ft),this.state=u.ls;break;case 3:this.os(),new p(this),this.state=u.ls;break;case 4:this.os(),this.input="",this.xt=[a.us,a.Ct],this.wt=!1,this.ds(this.level),new c(this),new M(this),this.state=u.cs;break;case 6:this.fs(),this.fireEvent(new z(m.ws));break;case 7:for(;this.St.length>2;)this.St.shift();2==this.St.length&&(this.Mt=0,this.yt=0,this.xt=this.St.slice(),this._s(),this.gs(this.bt[0].charAt(0)),this.state=u.Ms),this.fireEvent(new z(m.ws));break;case 8:this.ps(this.St[this.Mt])&&(this.ht.Ss.xs(0),this.ht.Ss.bs(),this.startTime=h.now()/1e3,this.state=u.ys);break;case 9:1==this.ks()&&(this.Mt++,this.Mt==this.St.length&&(this.Mt=0,this.yt++),this.yt==this.bt[0].length?(this.St=[],this.state=u.cs):(this._s(),this.gs(this.bt[0].charAt(this.yt)),this.state=u.Ms));break;case 10:this.ds(++this.level),this.state=u.cs;break;case 11:this.ds(--this.level),this.state=u.cs;break;case 12:this.os(),new f(this),this.state=u.ls}r.U(),r.W(),r.B(this.ht),this.ht.vs()}os(){r.I(),this.Wt(),new v(this,{es:this.es,Ot:this.Ot,Ft:this.Ft})}Ps(t){if(null==this.ht.Ss)return;if("\n"==t||"Enter"==t)return void(this.state=u.Es);if(" "==t||"Space"==t)return r.H(new D(this.ht.Cs(),this.ht.Ls(),null)),void this.fireEvent(new z(m.ws));let s=0,i=l.As.length;for(;s<i;)if(l.As.charAt(s++)==t)return this.input+=t,void this.fireEvent(new z(m.ws))}Gs(t){null!=this.ht.Ss&&(t==o.Ns?this.state=u.Gt:t==o.Fs?(this.St=this.xt.slice(),this.state=u.Os):t==o.zs||t==o.Ts?(this.St.push(a.us),this.state=u.Os):t==o.Rs||t==o.Ds?(this.St.push(a.Bs),this.state=u.Os):t==o.Ws||t==o.Is?(this.St.push(a.Ct),this.state=u.Os):t==o.Us||t==o.Hs?(this.St.push(a.Ys),this.state=u.Os):t==o.Vs?this.state=u.qs:t==o.Ks?this.state=u.js:t==o.Xs&&(this.input=this.input.substring(0,this.input.length-1)),this.fireEvent(new z(m.ws)))}V(t){null==this.ht.Ss&&this.ht.Zs(441e3),r.H(t),this.fireEvent(new z(m.ws))}K(t){r.q(t),this.fireEvent(new z(m.ws))}Qs(t){r.Z(t),this.fireEvent(new z(m.ws))}X(t){r.j(t),this.fireEvent(new z(m.ws))}tt(t){}$(t){}ds(t,s){this.level=0|Math.max(1,Math.min(t,l.Js.length));let i=null!=s?s:l.As.substring(0,this.level);this.bt=[i.charAt(i.length-1)],this.$s=[1];let h=0,n=this._t;for(;h<n;){++h;let t="",s=1+e.random(this.gt),n=0;for(;n<s;)++n,t+=i.charAt(e.random(i.length));this.bt.push(t),this.$s.push(s)}this.Pt=0,this.vt=0,this.ti(),this.si(),this.ii(),this.gs(this.bt[0].charAt(0)),this.fireEvent(new z(m.hi,this.level)),this.fireEvent(new z(m.ws))}ti(){this.ft=[];let t=0,s=.666*this.ht.ei()|0;for(;t<s;)++t,this.ft.push(this.ks())}si(){this.ni="";let t=0,s=this.$s[0];for(;t<s;)++t,this.ni+="_ ";this.ni=this.ni.substring(0,this.ni.length-1)}ii(){this.kt=2}gs(t){this.ht.ri(1);let s=0,i=this.ts;for(;s<i;){let t=s++,i=0,h=this.$t;for(;i<h;)this.ss[t][i++]=0}this.oi(t),this.li(),this.ai(),this.ui(Math.round((this.$t-(this.right-this.left+1))/2-this.left),Math.round((this.ts-(this.bottom-this.top+1))/2-this.top)),this.ai(),this.ht.ri(0),this.di()}fs(){if(0==this.input.length)return void(this.state=u.cs);this.ht.Ss.ci(),this.ht.Ss.bs(),this.startTime=-1;let t=0,s=0|Math.min(this.input.length,this.bt[0].length);for(;t<s;){let s=t++;if(this.bt[0].charAt(s)!=this.input.charAt(s))return void this.fi();this.ni=P.wi(this.ni,2*this.Pt,this.bt[0].charAt(0)),this.Pt++,this.bt[0]=h.substr(this.bt[0],1,null),this.input=this.input.substring(1)}this._i()}fi(){this.input="",this.vt>0&&this.kt--,this.gi(),this.kt<=0?this.state=u.Mi:this.state=u.cs}_i(){this.ii(),this.Pt==this.$s[0]?(this.bt.shift(),this.$s.shift(),this.vt++,this.Pt=0,this.si(),this.ii(),0==this.bt.length?(this.pi(),this.state=u.js):(this.xi(),this.gs(this.bt[0].charAt(0)),this.state=u.cs)):(this.xi(),this.gs(this.bt[0].charAt(0)),this.state=u.cs)}ks(){return this.startTime<0?0:Math.min((h.now()/1e3-this.startTime)/this.At,1)}_s(){this.mi=Math.round(960/(1/this.ns)),this.Si=0,this.delay=0,this.ht.Ss.bi(),this.ht.Ss.ci(),this.startTime=-1,this.ti()}ps(t){if(null==this.ht.Ss)return!1;this.direction=t;let s=this.right-this.left+1,i=this.bottom-this.top+1,h=2/s,e=2/i,n=Math.round(44100/this.ts*this.Lt);switch(t.rs){case 0:let t=this.right-this.Si;for(;t-- >=this.left+1;){let s=this.top,h=this.bottom+1;for(;s<h;){let h=s++;this.yi(t,h)&&this.ht.Ss.ki({frequency:1e3*Math.pow(2,(-(h-this.bottom)-i/2)*e),clip:.5,vi:1,Pi:this.delay,Ei:this.delay+n,Ci:0,amplitude:1})}if(this.delay+=n,this.At=this.delay/44100,t==this.left)return!0;if(++this.Si%this.mi==0)return!1}break;case 1:let r=this.bottom-this.Si;for(;r-- >=this.top+1;){let t=this.left,i=this.right+1;for(;t<i;){let i=t++;this.yi(i,r)&&this.ht.Ss.ki({frequency:1e3*Math.pow(2,(i-this.left-s/2)*h),clip:.5,vi:1,Pi:this.delay,Ei:this.delay+n,Ci:0,amplitude:1})}if(this.delay+=n,this.At=this.delay/44100,r==this.top)return!0;if(++this.Si%this.mi==0)return!1}break;case 2:let o=this.left+this.Si,l=this.right+1;for(;o<l;){let t=o++,s=this.top,h=this.bottom+1;for(;s<h;){let h=s++;this.yi(t,h)&&this.ht.Ss.ki({frequency:1e3*Math.pow(2,(-(h-this.bottom)-i/2)*e),clip:.5,vi:1,Pi:this.delay,Ei:this.delay+n,Ci:0,amplitude:1})}if(this.delay+=n,this.At=this.delay/44100,t==this.right)return!0;if(++this.Si%this.mi==0)return!1}break;case 3:let a=this.top+this.Si,u=this.bottom+1;for(;a<u;){let t=a++,i=this.left,e=this.right+1;for(;i<e;){let e=i++;this.yi(e,t)&&this.ht.Ss.ki({frequency:1e3*Math.pow(2,(e-this.left-s/2)*h),clip:.5,vi:1,Pi:this.delay,Ei:this.delay+n,Ci:0,amplitude:1})}if(this.delay+=n,this.At=this.delay/44100,t==this.bottom)return!0;if(++this.Si%this.mi==0)return!1}}return!1}yi(t,s){return!(s+-1<0||s+-1>=this.ts)&&(!(t+-1<0||t+-1>=this.$t)&&(this.ss[s+-1][t+-1]!=this.ss[s][t]||!(t<0||t>=this.$t)&&(this.ss[s+-1][t]!=this.ss[s][t]||!(t+1<0||t+1>=this.$t)&&(this.ss[s+-1][t+1]!=this.ss[s][t]||!(s<0||s>=this.ts)&&(!(t+-1<0||t+-1>=this.$t)&&(this.ss[s][t+-1]!=this.ss[s][t]||!(t<0||t>=this.$t)&&(this.ss[s][t]!=this.ss[s][t]||!(t+1<0||t+1>=this.$t)&&(this.ss[s][t+1]!=this.ss[s][t]||!(s+1<0||s+1>=this.ts)&&(!(t+-1<0||t+-1>=this.$t)&&(this.ss[s+1][t+-1]!=this.ss[s][t]||!(t<0||t>=this.$t)&&(this.ss[s+1][t]!=this.ss[s][t]||!(t+1<0||t+1>=this.$t)&&this.ss[s+1][t+1]!=this.ss[s][t])))))))))))}xi(){if(null==this.ht.Ss)return;let t=this.ht.Ss.Li(),s=1;for(;s<9;){let i=s++;this.ht.Ss.ki({frequency:1024*i,clip:.333,vi:1,Pi:t+1837*i,Ei:t+1837*(i+1),Ci:0,amplitude:1})}}gi(){if(null==this.ht.Ss)return;let t=this.ht.Ss.Li(),s=1;for(;s<9;){let i=s++;this.ht.Ss.ki({frequency:1024/i,clip:.333,vi:1,Pi:t+1837*i,Ei:t+1837*(i+1),Ci:0,amplitude:1})}}pi(){if(null==this.ht.Ss)return;let t=this.ht.Ss.Li(),s=1;for(;s<9;){let i=s++;this.ht.Ss.ki({frequency:128*i,clip:.333,vi:1,Pi:t+1837*i,Ei:t+1837*(i+1),Ci:0,amplitude:1})}}oi(t){this.rt(x.Ai),this.ht.ot(x.Gi),this.ht.Ni(t,this.dt>>1,this.ut>>1,this.dt>>1)}li(){let t=this.ht.Fi(),s=0,i=0,h=this.ts;for(;i<h;){let h=i++,e=0,n=0,r=this.$t;for(;n<r;)this.ss[h][n++]=t[s][e],e+=this.Jt;s+=this.Jt}}ai(){this.left=this.$t-1,this.top=this.ts-1,this.right=0,this.bottom=0;let t=0,s=this.ts;for(;t<s;){let s=t++,i=0,h=this.$t;for(;i<h;){let t=i++;this.ss[s][t]>0&&(this.left=0|Math.min(t,this.left),this.top=0|Math.min(s,this.top),this.right=0|Math.max(t,this.right),this.bottom=0|Math.max(s,this.bottom))}}}ui(t,s){let i=0,h=this.ts;for(;i<h;){let t=i++,s=0,h=this.$t;for(;s<h;)this.hs[t][s++]=0}let e=0,n=this.ts;for(;e<n;){let i=e++,h=i-s;if(h<0||h>=this.ts)continue;let n=0,r=this.$t;for(;n<r;){let s=n++,e=s-t;e>=0&&e<this.$t&&(this.hs[i][s]=this.ss[h][e])}}let r=0,o=this.ts;for(;r<o;){let t=r++,s=0,i=this.$t;for(;s<i;){let i=s++;this.ss[t][i]=this.hs[t][i]}}}di(){if(this.rt(this.background),this.vt>0)return;this.ht.ot(this.Oi);let t=this.left*this.Jt,s=this.it+this.top*this.Jt,i=this.top,h=this.bottom+1;for(;i<h;){let h=i++,e=t,n=this.left,r=this.right+1;for(;n<r;)0!=this.ss[h][n++]&&this.ht.lt(e,s,this.Jt,this.Jt),e+=this.Jt;s+=this.Jt}}zi(){this.ft.push(this.ks()),this.ft.shift(),this.ht.Ti(16);let t=0,s=this.ft.length;for(;t<s;){let s=t++,i=this.ft[s],h=s/this.ft.length,e=new b(-this.ks()+h,1,1).Ri().alpha(64*h);switch(this.ht.ot(e),this.direction.rs){case 0:this.Di(i);break;case 1:this.Bi(i);break;case 2:this.Wi(i);break;case 3:this.Ii(i)}}}Ii(t){let s=Math.round(this.top+(this.bottom-this.top)*t);this.ht.Ui(this.left*this.Jt,this.it+s*this.Jt,(this.right+1)*this.Jt,this.it+s*this.Jt)}Wi(t){let s=Math.round(this.left+(this.right-this.left)*t);this.ht.Ui(s*this.Jt,this.it+this.top*this.Jt,s*this.Jt,this.it+(this.bottom+1)*this.Jt)}Di(t){let s=Math.round(this.right+(this.left-this.right)*t);this.ht.Ui(s*this.Jt,this.it+this.top*this.Jt,s*this.Jt,this.it+(this.bottom+1)*this.Jt)}Bi(t){let s=Math.round(this.bottom+(this.top-this.bottom)*t);this.ht.Ui(this.left*this.Jt,this.it+s*this.Jt,(this.right+1)*this.Jt,this.it+s*this.Jt)}Hi(t){return new S(-t,t).Yi()}Wt(){this.alpha=64*Math.pow(255,1/this.ht.ei()),this.Vi=this.alpha/255,this.background=new b(Math.random(),.333,.05).Ri(),this.Oi=x.Gi,this.qi=x.RED.duplicate().alpha(192),this.es[0]=this.background;let t=this.Et/100,s=Math.random(),i=1,h=1;this.es[this.Ot]=new b(s+this.Hi(t),1+this.Hi(t),1+this.Hi(t)).Ri(),s=s+.5+this.Hi(t),i=1,h=1,this.es[this.Ft]=new b(s+this.Hi(t),1+this.Hi(t),1+this.Hi(t)).Ri(),this.es[this.Nt]=this.es[this.Ot].duplicate().Ki(this.es[this.Ft]),this.fireEvent(new z(m.ji))}static Xi(){new l}}l.i=!0;var a=i["Zi"]={Qi:!0,Ji:null,Bs:{$i:"LEFT",rs:0,th:"avis.Direction",toString:s},Ct:{$i:"UP",rs:1,th:"avis.Direction",toString:s},us:{$i:"RIGHT",rs:2,th:"avis.Direction",toString:s},Ys:{$i:"DOWN",rs:3,th:"avis.Direction",toString:s}};a.Ji=[a.Bs,a.Ct,a.us,a.Ys];var u=i["sh"]={Qi:!0,Ji:null,ls:{$i:"NOP",rs:0,th:"avis.GameState",toString:s},Gt:{$i:"INTRO",rs:1,th:"avis.GameState",toString:s},ih:{$i:"HELP",rs:2,th:"avis.GameState",toString:s},hh:{$i:"OPTIONS",rs:3,th:"avis.GameState",toString:s},eh:{$i:"NEW_GAME",rs:4,th:"avis.GameState",toString:s},cs:{$i:"PLAYING",rs:5,th:"avis.GameState",toString:s},Es:{$i:"GUESS",rs:6,th:"avis.GameState",toString:s},Os:{$i:"SOUND_PLAY",rs:7,th:"avis.GameState",toString:s},Ms:{$i:"SOUND_PLAY_CONTINUE",rs:8,th:"avis.GameState",toString:s},ys:{$i:"SOUND_PLAYING",rs:9,th:"avis.GameState",toString:s},js:{$i:"NEXT_LEVEL",rs:10,th:"avis.GameState",toString:s},qs:{$i:"PREVIOUS_LEVEL",rs:11,th:"avis.GameState",toString:s},Mi:{$i:"GAME_OVER",rs:12,th:"avis.GameState",toString:s}};u.Ji=[u.ls,u.Gt,u.ih,u.hh,u.eh,u.cs,u.Es,u.Os,u.Ms,u.ys,u.js,u.qs,u.Mi];class d extends r{constructor(t){super(),this.nh=t}N(t){this.nh.di(),this.nh.zi()}}d.i=!0;class c extends r{constructor(t){r.o=!0,super(),r.o=!1,this.l(t)}l(t){this.borderWidth=2,super.l(),this.nh=t,this.Bt(),this.rh(),this.oh(),this.lh(),this.ah(),t.addEventListener(this),this.D(null)}D(t){this.dh.uh.text=0==this.nh.vt?"Level: "+this.nh.bt[0]:"Word "+this.nh.vt+": "+this.nh.ni,this.dh.fh(),this.wh.uh.text="Input : "+this.nh.input,this.wh.fh();let s="",i=0,h=this.nh.xt.length;for(;i<h;)s+=this._h(this.nh.xt[i++]);this.gh.uh.text="Play "+s,this.gh.fh()}R(){return[m.ws]}Bt(){this.Mh=new Array(5),this.ph=new Array(5),this.xh=new Array(5),Math.random(),new S(.5,1).Yi(),Math.random();let t=this.nh.Hi(1),s=0,i=this.Mh.length;for(;s<i;){let i=s++,h=i/(this.Mh.length-1);this.Mh[i]=x.Ai,this.ph[i]=new b(2*h/3+t,.777,1).Ri(),this.xh[i]=new b(2*h/3,.777,1).Ri()}}rh(){this.screen=new O({y:this.nh.it,width:this.nh.ut,height:this.nh.dt});let t=this;this.screen.L(new R({V:function(s){let i=new E(s.x-t.nh.ut/2,s.y-t.nh.dt/2);i.multiply(1/i.length()),Math.abs(i.mh(new E(-1,0)))<=Math.PI/4?t.nh.St.push(a.Bs):Math.abs(i.mh(new E(0,-1)))<=Math.PI/4?t.nh.St.push(a.Ct):Math.abs(i.mh(new E(1,0)))<=Math.PI/4?t.nh.St.push(a.us):Math.abs(i.mh(new E(0,1)))<=Math.PI/4&&t.nh.St.push(a.Ys),t.nh.state=u.Os}}))}oh(){let t=new d(this.nh);t.width=this.nh.ut,t.height=this.nh.dt,this.screen.v(t)}lh(){let t=new O({width:this.nh.ut,height:2*this.nh.fontSize});this.screen.v(t),t.P(new L);let s=new O({height:2*this.nh.fontSize});s.P(new N),t.v(s);let i=new O({background:x.Gi.duplicate().multiply(.5),Oi:x.Ai,Sh:this.nh.fontSize,text:"☰",margin:this.nh.fontSize>>1});i.fh(),s.v(i),this.dh=new O({background:x.Gi,Oi:x.Ai,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1}),s.v(this.dh);let h=this;i.L(new R({V:function(t){h.nh.removeEventListener(h),h.nh.state=u.Gt}}))}ah(){let t=new O({y:this.nh.dt-2*this.nh.fontSize-this.borderWidth,width:this.nh.ut,height:2*this.nh.fontSize});this.screen.v(t),t.P(new L);let s=new O({height:2*this.nh.fontSize});t.v(s),s.P(new N),this.wh=new O({background:this.Mh[0],Oi:this.ph[0],borderColor:this.xh[0],borderWidth:this.borderWidth,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1}),s.v(this.wh),this.gh=new O({background:this.Mh[1],Oi:this.ph[1],borderColor:this.xh[1],borderWidth:this.borderWidth,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1,text:"Play"}),this.gh.fh(),s.v(this.gh),this.bh=new O({background:this.Mh[2],Oi:this.ph[2],borderColor:this.xh[2],borderWidth:this.borderWidth,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1,text:"Okay"}),this.bh.fh(),s.v(this.bh),this.yh=new O({background:this.Mh[3],Oi:this.ph[3],borderColor:this.xh[3],kh:this.Mh[3].duplicate().Ki(this.ph[3]).multiply(.5),Ph:this.Mh[3].duplicate().Ki(this.ph[3]).multiply(.5).Eh(),borderWidth:this.borderWidth,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1,text:"Keep"}),this.yh.fh(),s.v(this.yh);let i=new O({background:this.Mh[4],Oi:this.ph[4],borderColor:this.xh[4],borderWidth:this.borderWidth,Sh:this.nh.fontSize,margin:this.nh.fontSize>>1,text:"Hack"});i.fh(),s.v(i);let e=this;this.gh.L(new R({V:function(t){let s=e.nh.xt.slice();e.nh.St=s,e.nh.state=u.Os}})),this.bh.L(new R({V:function(t){e.nh.state=u.Es}})),this.yh.L(new R({V:function(t){e.yh.uh.pressed=!e.yh.uh.pressed,e.nh.wt=e.yh.uh.pressed}})),i.L(new R({V:function(t){if(0==e.nh.input.length)return;e.nh.ds(e.nh.level,e.nh.input);let s=e.nh.xt.slice();e.nh.St=s,e.nh.state=u.Os,e.nh.bt[0]=h.substr(e.nh.input,0,null),e.nh.$s[0]=e.nh.input.length}}))}_h(t){switch(t.rs){case 0:return"←";case 1:return"↑";case 2:return"→";case 3:return"↓"}}}c.i=!0;class f extends r{constructor(t){super();let s=new O({y:t.it,width:t.ut,height:t.dt,background:x.Ai});s.P(new L);let i=new O({width:t.ut>>1,height:t.dt>>1});i.P(new G),s.v(i);let h=new O({background:x.Gi,Oi:x.Ai,text:"Game Over :: it was "+t.bt[0]+".. .",Sh:t.fontSize});i.v(h),h.L(new R({V:function(s){t.state=u.Gt}}))}}f.i=!0;class w{constructor(t,s,i){this.nh=t,this.r1=s,this.r2=i,this.init()}init(){let t=this.nh.es[this.r1].duplicate().Ki(this.nh.es[this.r2]).multiply(.666),s=t.duplicate().multiply(.5),i=s.Eh(),h=new O({y:this.nh.it,width:this.nh.ut,height:this.nh.dt,background:t});h.P(new L),h.v(new O({width:Math.round(.8*this.nh.ut),height:Math.round(this.nh.dt),background:s}));let e=new O({width:Math.round(.8*this.nh.ut),height:Math.round(this.Ch().length*this.nh.fontSize*1.23456789)});e.P(new G),h.v(e);let n=this.Ch(),r=0,o=n.length;for(;r<o;)e.v(new O({Oi:i,text:n[r++],Sh:this.nh.fontSize}));let l=this;h.L(new R({V:function(t){l.Lh()}}))}}w.i=!0;class _ extends w{constructor(t,s,i){super(t,s,i)}Ch(){return["Покушај да погодиш речи","које ти компјутер свира","кликом на неко слово","или преко тастатуре","и овером са ентер,","брисањем бекспејсом,","слушањем са контролом,","усмеравањем стрелицама,","прескакањем нумпадом [+-] и","враћањем на почетак ескејпом."]}Lh(){this.nh.state=u.Gt}}_.i=!0;class g{constructor(t){let s=new O({y:t.it,width:t.ut,height:t.dt,background:t.background});s.P(new L);let i=new O({width:t.ut>>1,height:t.dt>>1});i.P(new G),s.v(i);let h=new O({background:x.RED,Oi:x.RED.duplicate().Eh(),text:"РАЗВАЛИ..!",Sh:t.fontSize});i.v(h);let e=new O({background:x.Ah,Oi:x.Ah.duplicate().Eh(),text:"КАКО СЕ ИГРА?",Sh:t.fontSize});i.v(e);let n=new O({background:x.Gi,Oi:x.Gi.duplicate().Eh(),text:"ПОДЕСИ.. .",Sh:t.fontSize});i.v(n),h.L(new R({V:function(s){t.state=u.eh}})),e.L(new R({V:function(s){t.state=u.ih}})),n.L(new R({V:function(s){t.state=u.hh}}))}}g.i=!0;class M extends r{constructor(t){r.o=!0,super(),r.o=!1,this.l(t)}l(t){this.Gh=null,this.Nh=.87654321,this.Oi=x.Gi,this.Fh=x.Gi,this.Oh=x.RED,this.kh=x.Ai,this.Ph=x.Gi,this.buttons=[],super.l(),this.nh=t,this.zh(),this.Th(),this.Gh=this.buttons[t.level-1],this.Gh.uh.pressed=!0;let s=this;t.addEventListener(new T({D:function(t){s.Gh.uh.pressed=!1;let i=t.data;s.buttons[i-1].uh.pressed=!0,s.Gh=s.buttons[i-1]},R:function(){return[m.hi]}}))}zh(){let t=new b(Math.random(),.5,.333).Ri(),s=new O({x:0,y:this.nh.it,width:2*this.nh.Kt*1.5|0,height:this.nh.dt-this.nh.it,background:t});s.P(new G);let i=new O({x:2*this.nh.Kt*1.5|0,y:this.nh.it,width:2*this.nh.Kt*1.5|0,height:this.nh.dt-this.nh.it,background:t});i.P(new G);let h=new O({x:this.nh.ut-4*this.nh.Kt*1.5|0,y:this.nh.it,width:2*this.nh.Kt*1.5|0,height:this.nh.dt-this.nh.it,background:t});h.P(new G);let e=new O({x:this.nh.ut-2*this.nh.Kt*1.5|0,y:this.nh.it,width:2*this.nh.Kt*1.5|0,height:this.nh.dt-this.nh.it,background:t});e.P(new G);let n=0;for(;n<30;){let t=new O({Oi:this.Oi,Oh:this.Oh,Fh:this.Fh,Ph:this.Ph,kh:this.kh,text:l.jt.charAt(n++),Sh:this.nh.Kt*this.Nh|0});s.v(t),this.buttons.push(t)}let r=0;for(;r<30;){let t=new O({Oi:this.Oi,Oh:this.Oh,Fh:this.Fh,Ph:this.Ph,kh:this.kh,text:l.Rh.charAt(r++),Sh:this.nh.Kt*this.Nh|0});i.v(t),this.buttons.push(t)}let o=0;for(;o<26;){let t=new O({Oi:this.Oi,Oh:this.Oh,Fh:this.Fh,Ph:this.Ph,kh:this.kh,text:l.Zt.charAt(o++),Sh:this.nh.Xt*this.Nh|0});h.v(t),this.buttons.push(t)}let a=0;for(;a<26;){let t=new O({Oi:this.Oi,Oh:this.Oh,Fh:this.Fh,Ph:this.Ph,kh:this.kh,text:l.Dh.charAt(a++),Sh:this.nh.Xt*this.Nh|0});e.v(t),this.buttons.push(t)}}Bh(t){null!=this.Wh&&(this.Wh.uh.Ih=!1,this.Wh=null),null!=t&&(t.uh.Ih=!0,this.Wh=t)}Th(){let t=this,s=0,i=this.buttons;for(;s<i.length;)i[s++].L(new R({V:function(s){let i=s.component;t.Bh(i),t.nh.wt?t.nh.input+=i.uh.text.substring(0):t.nh.input=i.uh.text.substring(0)},K:function(s){t.nh.wt||(t.Bh(),t.nh.state!=u.cs&&t.nh.state!=u.Os&&t.nh.state!=u.ys&&t.nh.state!=u.Ms||(t.nh.state=u.Es))},X:function(s){r.Z(new D(t.nh.ht.Cs(),t.nh.ht.Ls(),null))},tt:function(s){let i=s.component;t.Bh(i),t.nh.wt?t.nh.input+=i.uh.text:t.nh.input=i.uh.text.substring(0)},$:function(s){t.Bh(),t.nh.wt?t.nh.input=h.substr(t.nh.input,0,t.nh.input.length-1):t.nh.input=""}}))}}M.i=!0;class p extends r{constructor(t){super(),this.nh=t,this.Uh(),this.rh(),this.ah(),this.Hh()}Uh(){this.Yh=this.nh.es[this.nh.Ot].duplicate().Ki(this.nh.es[this.nh.Ft]).multiply(2).Vh(),this.qh=this.Yh.duplicate().Eh(),this.Kh=this.nh.es[this.nh.Ot].duplicate().Ki(this.nh.es[this.nh.Ft]).multiply(.5).Vh(),this.jh=this.Kh.duplicate().Eh(),this.Xh=this.Yh.duplicate().Ki(this.Kh);let t=this.Xh.Zh();this.Qh=new b(t.Jh+.333,1,1).Ri(),this.$h=this.Qh.Eh(),this.te=new b(t.Jh+.666,1,.5).Ri(),this.se=new b(t.Jh+.666,1,1).Ri()}rh(){this.screen=new O({y:this.nh.it,width:this.nh.ut,height:this.nh.dt,background:this.Xh})}Hh(){this.ie=new O({y:this.nh.it-this.nh.fontSize,width:this.nh.ut,height:this.nh.dt}),this.ie.P(new L);let t=new O({width:this.nh.ut>>1,height:Math.round(12*this.nh.fontSize*1.3)});t.P(new G),this.ie.v(t),this.he=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.he),this.ee=new F({background:this.te,Oi:this.se,min:1,max:l.Js.length,value:this.nh.level}),t.v(this.ee),this.ne=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.ne),this.re=new F({background:this.te,Oi:this.se,min:1,max:10,value:this.nh.Lt}),t.v(this.re),this.oe=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.oe),this.le=new F({background:this.te,Oi:this.se,min:1,max:16,value:this.nh.gt}),t.v(this.le),this.ae=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.ae),this.ue=new F({background:this.te,Oi:this.se,min:1,max:30,value:this.nh._t}),t.v(this.ue),this.de=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.de),this.ce=new F({background:this.te,Oi:this.se,min:1,max:10,value:this.nh.Jt}),t.v(this.ce),this.fe=new O({background:this.Qh,Oi:this.$h,Sh:this.nh.fontSize}),t.v(this.fe),this.we=new F({background:this.te,Oi:this.se,min:1,max:60,value:0|this.nh.ht.ei()}),t.v(this.we)}ah(){let t=new O({x:0,y:this.nh.dt-2*this.nh.fontSize,width:this.nh.ut,height:2*this.nh.fontSize});this.screen.v(t),t.P(new A),this.bh=new O({background:this.Yh,Oi:this.qh,text:"Okay",Sh:this.nh.fontSize,margin:this.nh.fontSize>>1}),t.v(this.bh),this._e=new O({background:this.Kh,Oi:this.jh,text:"Cancel",Sh:this.nh.fontSize,margin:this.nh.fontSize>>1}),t.v(this._e);let s=this;this.bh.L(new R({V:function(t){s.nh.level=s.ee.uh.value,s.nh.gt=s.le.uh.value,s.nh._t=s.ue.uh.value,s.nh.Lt=s.re.uh.value,s.nh.Dt(s.ce.uh.value),s.nh.ht.ge(s.we.uh.value),s.nh.state=u.Gt}})),this._e.L(new R({V:function(t){s.nh.state=u.Gt}}))}F(){this.he.uh.text="Level: "+l.Js.charAt(this.ee.uh.value-1),this.ne.uh.text="Sound time: "+this.re.uh.value+" [sec]",this.oe.uh.text="Longest word: "+this.le.uh.value+" [chr]",this.ae.uh.text="Words per level: "+this.ue.uh.value,this.de.uh.text="Quantization: "+this.ce.uh.value,this.fe.uh.text="FPS: "+this.we.uh.value}}p.i=!0;class x{constructor(t,s,i,h){this.r=t,this.Me=s,this.b=i,this.a=null!=h?h:255}duplicate(){return new x(this.r,this.Me,this.b,this.a)}alpha(t){return this.a=Math.round(Math.max(0,Math.min(t,255))),this}multiply(t){return this.r=Math.round(this.r*t),this.Me=Math.round(this.Me*t),this.b=Math.round(this.b*t),this}Vh(){return this.r=0|Math.max(0,Math.min(this.r,255)),this.Me=0|Math.max(0,Math.min(this.Me,255)),this.b=0|Math.max(0,Math.min(this.b,255)),this}Zh(){this.Vh();let t=this.r/255,s=this.Me/255,i=this.b/255,h=Math.max(t,Math.max(s,i)),e=h-Math.min(t,Math.min(s,i)),n=0;return 0!=e&&(n=h==t?(s-i)/e+(s<i?6:0):h==s?(i-t)/e+2:(t-s)/e+4,n/=6),new b(n,0==h?0:e/h,h)}Ki(t,s){return null==s&&(s=.5),s=Math.max(0,Math.min(s,1)),this.r=Math.round(this.r+s*(t.r-this.r)),this.Me=Math.round(this.Me+s*(t.Me-this.Me)),this.b=Math.round(this.b+s*(t.b-this.b)),this}pe(){let t=.299*this.r+.587*this.Me+.114*this.b|0;return this.r=t,this.Me=t,this.b=t,this}Eh(t){let s=this.Zh(),i=this.duplicate().pe();s.Jh+=.5;let h=null!=t?t.s:null;if(s.s*=null!=h?h:.5,i.r<96){let i=null!=t?t.b:null;s.b=null!=i?i:1}else{let i=null!=t?t.b:null;s.b=1-(null!=i?i:1)}return s.Ri()}}x.i=!0;class m{}m.i=!0;class S{constructor(t,s){this.min=t,this.max=s}Yi(){return this.min+Math.random()*(this.max-this.min)}}S.i=!0;class b{constructor(t,s,i){this.Jh=t,this.s=s,this.b=i}Vh(){this.Jh=(this.Jh%1+1)%1,this.s=Math.max(0,Math.min(this.s,1)),this.b=Math.max(0,Math.min(this.b,1))}Ri(){this.Vh();let t=this.b,s=0,i=0,h=0,e=Math.floor(6*this.Jh),n=6*this.Jh-e,r=t*(1-this.s),o=t*(1-n*this.s),l=t*(1-(1-n)*this.s);switch(e%6){case 0:s=t,i=l,h=r;break;case 1:s=o,i=t,h=r;break;case 2:s=r,i=t,h=l;break;case 3:s=r,i=o,h=t;break;case 4:s=l,i=r,h=t;break;case 5:s=t,i=r,h=o}return new x(Math.round(255*s),Math.round(255*i),Math.round(255*h))}}b.i=!0;class y{constructor(t){this.frequency=t.frequency,this.amplitude=t.amplitude,this.Ci=t.Ci,this.Pi=t.Pi,this.Ei=t.Ei,this.vi=t.vi,this.clip=t.clip}set(t){this.frequency=t.frequency,this.amplitude=t.amplitude,this.Ci=t.Ci,this.Pi=t.Pi,this.Ei=t.Ei,this.vi=t.vi,this.clip=t.clip}}y.i=!0;class k{constructor(t){this.note=new y({frequency:0,amplitude:0,Ci:0,Pi:0,Ei:0,vi:0,clip:0}),this.xe=0,this.me=!1,this.Se=0,this.be=7938e3,this.bufferSize=4096,this.sampleRate=44100,this.be=null!=t?t:this.be,this.ye=new Array(t),this.ke=new Array(t),this.ve=new Array(t),this.Pe=new Array(t),this.xe=(t/this.bufferSize|0)*this.bufferSize,this.ci()}Ee(t){let s=2*Math.PI*t.frequency/this.sampleRate,i=t.Pi,h=t.Ei+1;for(;i<h;){let h=Math.sin(t.Ci)*t.amplitude;h=Math.pow(h,t.vi),h=Math.max(-t.clip,Math.min(t.clip,h));let e=i++%this.xe;this.ye[e]+=h,this.ve[e]+=1,(t.Ci+=s)>2*Math.PI&&(t.Ci-=2*Math.PI)}}step(){if(!this.me){let t=0,s=this.bufferSize;for(;t<s;)this.write(t++,0);return}let t=this.Se,s=0,i=this.bufferSize;for(;s<i;){let t,i=s++,h=this.ve[this.Se];t=0==h?0:this.ye[this.Se]/h,this.write(i,t),this.Se++,this.Se==this.xe&&(this.Se=0)}this.restore(t,this.bufferSize)}ki(t){this.note.set(t),this.Ee(this.note)}restore(t,s){let i=t,h=t+s;for(;i<h;){let t=i++;this.ye[t]=this.ke[t],this.ve[t]=this.Pe[t]}}ci(){let t=this.ye,s=0,i=t.length;for(;s<i;)t[s++]=0;let h=this.ve,e=0,n=h.length;for(;e<n;)h[e++]=0;let r=this.ke,o=0,l=r.length;for(;o<l;)r[o++]=0;let a=this.Pe,u=0,d=a.length;for(;u<d;)a[u++]=0}Li(){return this.Se}xs(t){this.Se=t}bi(){this.me=!1}bs(){this.me=!0}}k.i=!0;class v extends r{constructor(t,s){r.o=!0,super(),r.o=!1,this.l(t,s)}l(t,s){this.Ce=[x.Ai,x.Ai],this.Le=[],this.Ae=64,this.ft=5,this.Ge=[],super.l(),this.uh=s,this.nh=t,this.Ne();let i=this;t.addEventListener(new T({R:function(){return[m.ji+""]},D:function(t){i.Fe()}}))}Ne(){this.alpha=.666*this.nh.alpha,this.Oe=new O({width:this.nh.ut,height:this.nh.it});let t=0,s=this.ft;for(;t<s;){let s=0|Math.abs(t++),i=new O({height:this.nh.it,Sh:this.nh.it>>1,margin:this.nh.it>>2,text:"Неда Нешић и Горан Свитлица у великој су љубави.. ."});i.A(1e3-s),i.fh(),this.Oe.v(i),this.Ge.push(i)}let i=0,h=this.Ae;for(;i<h;){++i;let t=new O({width:1,height:this.nh.it});this.Oe.v(t),this.Le.push(t)}this.Oe.G(),this.Fe()}Fe(){let t=this.nh.es[v.ze?this.uh.Ft:this.uh.Ot].duplicate().Zh();this.Ce[v.ze?0:1]=new b(t.Jh,1,.111).Ri().alpha(this.alpha),t.b*=10;let s=0,i=this.ft;for(;s<i;){let i=s++,h=Math.abs(i/this.ft-.5);h=Math.pow(h,.1);let e=t.Ri();this.Ge[i].uh.Oi=e.alpha(255*(1-h))}v.ze=!v.ze}F(){let t=h.now()/1e3-v.startTime,s=this.Ce[v.ze?0:1].duplicate();this.Oe.uh.background=s.Ki(this.Ce[v.ze?1:0],t).alpha(this.alpha);let i=0,e=this.ft;for(;i<e;){let s=i++,e=Math.round(s+100*t);0==s&&e>=this.nh.ut+this.Ge[s].width&&(e=0,v.startTime=h.now()/1e3,this.Fe()),this.Ge[s].x=this.nh.ut-e}let n=0,r=this.Ae;for(;n<r;){let t=n++,s=this.Oe.uh.background.duplicate();this.Le[t].uh.background=s.alpha(t/(this.Ae-1)*255),this.Le[t].x=t+this.Ge[this.ft-1].x+this.Ge[this.ft-1].width}}}v.i=!0;class P{static wi(t,s,i){return h.substr(t,0,s)+i+h.substr(t,s+1,null)}}P.i=!0;class E{constructor(t,s){this.x=t,this.y=s}multiply(t){return this.x*=t,this.y*=t,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}mh(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)}}E.i=!0;class C{constructor(){}T(t){}}C.i=!0;class L extends C{constructor(){super()}T(t){let s=t.children.length,i=0;for(;i<s;){let s=i++,h=t.S()>>1,e=t.children[s].S()>>1;t.children[s].x=h-e;let n=t.k()>>1,r=t.children[s].k()>>1;t.children[s].y=n-r}}}L.i=!0;class A extends C{constructor(){super()}T(t){let s=t.children.length,i=t.width/s,h=0;for(;h<s;){let s=h++;t.children[s].x=s*i|0,t.children[s].y=0,t.children[s].width=Math.ceil(i),t.children[s].height=t.height}}}A.i=!0;class G extends C{constructor(){super()}T(t){let s=t.children.length,i=t.height/s,h=0;for(;h<s;){let s=h++;t.children[s].x=0,t.children[s].y=s*i|0,t.children[s].width=t.width,t.children[s].height=Math.ceil(i)}}}G.i=!0;class N extends C{constructor(){super()}T(t){let s=t.children.length,i=0,h=0;for(;h<s;){let s=h++;t.children[s].x=i,t.children[s].y=0,i+=t.children[s].width}t.width=i}}N.i=!0;class F extends r{constructor(t){super(),this.uh=t;let s=t.x;this.x=null!=s?s:0;let i=t.y;this.y=null!=i?i:0;let h=t.width;this.width=null!=h?h:0;let e=t.height;this.height=null!=e?e:0;let n=t.margin;this.uh.margin=null!=n?n:0;let r=t.min;this.uh.min=null!=r?r:0;let o=t.max;this.uh.max=null!=o?o:0;let l=t.value;this.uh.value=null!=l?l:0;let a=this;this.L(new R({V:function(t){a.Te(t.x,t.y)},X:function(t){a.Te(t.x,t.y)}}))}Te(t,s){t=Math.round(Math.max(0,Math.min(this.width,t))),this.uh.value=Math.round(this.uh.min+t/this.width*(this.uh.max-this.uh.min))}Re(){return Math.round((this.uh.value-this.uh.min)/(this.uh.max-this.uh.min)*this.S())}N(t){t.ot(this.uh.background),t.lt(this.p(),this.m(),this.S(),this.k()),t.ot(this.uh.Oi),t.lt(this.p(),this.m(),this.Re(),this.k())}}F.i=!0;class O extends r{constructor(t){super(),this.uh=t;let s=t.x;this.x=null!=s?s:0;let i=t.y;this.y=null!=i?i:0;let h=t.width;this.width=null!=h?h:0;let e=t.height;this.height=null!=e?e:0;let n=this.uh.kh;this.uh.kh=null!=n?n:this.uh.Oi;let r=t.text;this.uh.text=null!=r?r:"";let o=t.Sh;this.uh.Sh=null!=o?o:0;let l=t.pressed;this.uh.pressed=null!=l&&l;let a=t.margin;this.uh.margin=null!=a?a:0;let u=t.Ih;this.uh.Ih=null!=u&&u;let d=t.borderWidth;this.uh.borderWidth=null!=d?d:0}N(t){super.N(t),this.uh.Ih?(null!=this.uh.Oh&&(t.ot(this.uh.Oh),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.uh.Fh&&t.ot(this.uh.Fh)):this.uh.pressed?(null!=this.uh.Ph&&(t.ot(this.uh.Ph),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.uh.kh&&t.ot(this.uh.kh)):(null!=this.uh.background&&(t.ot(this.uh.background),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.uh.Oi&&t.ot(this.uh.Oi)),t.Ni(this.uh.text,this.uh.Sh,this.p()+(this.S()>>1),this.m()+(this.k()>>1)),null!=this.uh.borderColor&&(t.Ti(this.uh.borderWidth),t.ot(this.uh.borderColor),t.De(this.p(),this.m(),this.S()-this.uh.borderWidth,this.k()-this.uh.borderWidth))}fh(){this.width=o.nt.ht.Be(this.uh.text,this.uh.Sh)+2*this.uh.margin,this.height=o.nt.ht.We(this.uh.text,this.uh.Sh)+2*this.uh.margin}}O.i=!0;class z{constructor(t,s){this.name=t,this.data=s}}z.i=!0;class T{constructor(t){this.uh=t;let s=this.uh.D;this.uh.D=null!=s?s:U(this,this.Ie);let i=this.uh.R;this.uh.R=null!=i?i:U(this,this.Ue)}Ie(t){}Ue(){return[]}D(t){this.uh.D(t)}R(){return this.uh.R()}}T.i=!0;class R{constructor(t){this.uh=t;let s=this.uh.V;this.uh.V=null!=s?s:U(this,this.He);let i=this.uh.K;this.uh.K=null!=i?i:U(this,this.He);let h=this.uh.Qs;this.uh.Qs=null!=h?h:U(this,this.He);let e=this.uh.X;this.uh.X=null!=e?e:U(this,this.He);let n=this.uh.tt;this.uh.tt=null!=n?n:U(this,this.He);let r=this.uh.$;this.uh.$=null!=r?r:U(this,this.He)}He(t){}V(t){this.uh.V(t)}K(t){this.uh.K(t)}Qs(t){this.uh.Qs(t)}X(t){this.uh.X(t)}tt(t){this.uh.tt(t)}$(t){this.uh.$(t)}}R.i=!0;class D{constructor(t,s,i){this.x=t,this.y=s,this.component=i}}D.i=!0;class B{static t(t,s){if(null==t)return"null";if(s.length>=5)return"<...>";let h=typeof t;switch("function"==h&&(t.i||t.Qi)&&(h="object"),h){case"function":return"<function>";case"object":if(t.th){let h=i[t.th].Ji[t.rs],e=h.$i;return h.Ye?(s+="\t",e+"("+function(i){let e=[];{let i=0,n=h.Ye;for(;i<n.length;){let h=n[i];i+=1,e.push(B.t(t[h],s))}}return e}().join(",")+")"):e}if(t instanceof Array){let i="[";s+="\t";let h=0,e=t.length;for(;h<e;){let e=h++;i+=(e>0?",":"")+B.t(t[e],s)}return i+="]",i}let h;try{h=t.toString}catch(t){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){let s=t.toString();if("[object Object]"!=s)return s}let e="{\n";s+="\t";let n=null!=t.hasOwnProperty,r=null;for(r in t)n&&!t.hasOwnProperty(r)||"prototype"!=r&&"__class__"!=r&&"__super__"!=r&&"__interfaces__"!=r&&"__properties__"!=r&&(2!=e.length&&(e+=", \n"),e+=s+r+" : "+B.t(t[r],s));return e+="\n"+(s=s.substring(1))+"}",e;case"string":return t;default:return String(t)}}}B.i=!0;class W{constructor(t){this.Ve=!1,this.ct=-1,this._=[],this.qe=[],this.Ke=[],this.je=-666,this.Xe=-666,this.ge(t.et);let s=[],i=0;for(;i<1024;)++i,s.push(!1);this.Ke=s,this.Ze();let h=this;window.setTimeout((function(){h.Qe()}),10)}Ze(){window.addEventListener("resize",U(this,this.Qe));let t=this;window.document.onpointermove=function(s){t.Je?t.X(s):t.Qs(s),s.preventDefault()},window.document.onpointerdown=function(s){t.$e(s),s.preventDefault()},window.document.onpointercancel=function(s){t.tn(s)},window.document.onpointerup=function(s){t.tn(s)},window.document.onkeydown=function(s){t.Ke[s.keyCode]=!0;let i=0,h=t.qe;for(;i<h.length;)h[i++].Gs(s.keyCode);let e=0,n=t.qe;for(;e<n.length;)n[e++].Ps(s.key);"Backspace"==s.key&&s.preventDefault()},window.document.onkeyup=function(s){return t.Ke[s.keyCode]=!1},window.addEventListener("pageshow",(function(t){o.nt.fireEvent(new z(m.sn))}))}$e(t){this.hn(t);let s=0,i=this._;for(;s<i.length;)i[s++].V(new D(this.Cs(),this.Ls(),null));this.Je=!0}tn(t){this.hn(t);let s=0,i=this._;for(;s<i.length;)i[s++].K(new D(this.Cs(),this.Ls(),null));this.Je=!1}Qs(t){this.hn(t);let s=0,i=this._;for(;s<i.length;)i[s++].Qs(new D(this.Cs(),this.Ls(),null))}X(t){this.hn(t);let s=0,i=this._;for(;s<i.length;)i[s++].X(new D(this.Cs(),this.Ls(),null))}hn(t){let s=this.canvas.getBoundingClientRect(),i=this.en(this.nn,this.rn,t.clientX-s.left,t.clientY-s.top);this.Xe=0|i.x,this.je=0|i.y}en(t,s,i,h){return this.Ve?new E(this.ut*(1-h/s),this.dt*i/t):new E(this.ut*(i/t),this.dt*h/s)}Rt(t){this.on=[],this.ln=[];let s=0;for(;s<t;){let t=s++;this.on.push(window.document.createElement("canvas")),this.on[t].width=this.ut,this.on[t].height=this.dt,window.document.body.appendChild(this.on[t]),this.ln.push(this.on[t].getContext("2d",null)),this.on[t].style.display="none"}this.ri(0);let i=[],h=0,e=this.dt;for(;h<e;){++h;let t=[],s=0,e=this.ut;for(;s<e;)++s,t.push(0);i.push(t)}this.Si=i}ri(t){null!=this.canvas&&(this.canvas.style.display="none"),this.on[t].style.display="block",this.canvas=this.on[t],this.an=this.ln[t]}Zs(t){this.Ss=new I(t)}Qt(t,s){this.ut=t,this.dt=s}ge(t){this.et=t,this.ct=h.now()/1e3,this.un=1/this.et}ei(){return this.et}It(t){let s=null,i=this;s=function(e){let n=h.now()/1e3;n-i.ct>=i.un&&(t(i.un),i.ct=n),window.requestAnimationFrame(s)},window.requestAnimationFrame(s)}dn(t,s,i){return"#"+n.h(t,2)+n.h(s,2)+n.h(i,2)}ot(t){let s=255==t.a?this.dn(t.r,t.Me,t.b):"rgba("+t.r+","+t.Me+","+t.b+","+t.a/255+")";this.an.fillStyle=s,this.an.strokeStyle=s}Ti(t){this.an.lineCap="round",this.an.lineJoin="round",this.an.lineWidth=t}Ui(t,s,i,h){this.an.beginPath(),this.an.moveTo(t,s),this.an.lineTo(i,h),this.an.stroke()}lt(t,s,i,h){this.an.fillRect(t,s,i,h)}De(t,s,i,h){this.an.strokeRect(t,s,i,h)}Be(t,s){return this.an.font="bold "+s+"px sans-serif",this.an.textAlign="left",this.an.textBaseline="middle",0|this.an.measureText(t).width}We(t,s){return s}Ni(t,s,i,h){this.an.font="bold "+s+"px sans-serif";let e=this.an.measureText(t).width,n=Math.round(i-e/2);this.an.textAlign="left",this.an.textBaseline="middle",this.an.fillText(t,n,h)}Fi(){let t=this.an.getImageData(0,0,this.ut,this.dt).data,s=0,i=this.dt;for(;s<i;){let i=s++,h=0,e=this.ut;for(;h<e;){let s=h++;this.Si[i][s]=t[4*(i*this.ut+s)+2]}}return this.Si}vs(){}Ht(t){this._.push(t)}Cs(){return Math.round(this.Xe)}Ls(){return Math.round(this.je)}Yt(t){this.qe.push(t)}zt(t){window.document.title=t}Qe(){let t,s=window.innerWidth,i=window.innerHeight,h=s/i;h<1?(t=this.dt/this.ut,this.Ve=!0):(t=this.ut/this.dt,this.Ve=!1),h>t?(this.rn=i,this.nn=i*t|0):(this.nn=s,this.rn=s/t|0);let e=0,n=this.on;for(;e<n.length;){let t=n[e];++e,this.Ve?(t.style.transform="rotate(-90deg)",t.style.transformOrigin="50% 50%",t.style.width=this.rn+"px",t.style.height=this.nn+"px"):(t.style.transform="none",t.style.transformOrigin="50% 50%",t.style.width=this.nn+"px",t.style.height=this.rn+"px")}}}W.i=!0;class I extends k{constructor(t){super(t),this.init()}init(){this.context=new AudioContext({sampleRate:this.sampleRate}),this.cn=this.context.createScriptProcessor(this.bufferSize,0,1),this.cn.onaudioprocess=U(this,this.fn),this.cn.connect(this.context.destination)}fn(t){this.buffer=t.outputBuffer.getChannelData(0),this.step()}write(t,s){let i=s;s>1&&(i=1),i<-1&&(i=-1),this.buffer[t]=i}}function U(s,i){return null==i?null:(null==i.wn&&(i.wn=t._n++),null==s.gn?s.gn={}:h=s.gn[i.wn],null==h&&(h=i.bind(s),s.gn[i.wn]=h),h);var h}I.i=!0,t._n|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(h.now=performance.now.bind(performance)),String.i=!0,Array.i=!0,B.Mn={}.toString,r.o=!1,r.M=[],o.Ns=27,o.Xs=8,o.Fs=17,o.Rs=37,o.Ws=38,o.zs=39,o.Us=40,o.Hs=98,o.Ds=100,o.Ts=102,o.Is=104,o.Ks=107,o.Vs=109,l.jt="АБВГДЂЕЖЗИЈКЛЉМНЊОПРСТЋУФХЦЧЏШ",l.Rh="абвгдђежзијклљмнњопрстћуфхцчџш",l.Zt="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l.Dh="abcdefghijklmnopqrstuvwxyz",l.Js=l.jt+l.Rh+l.Zt+l.Dh,l.As=l.Js.substring(0),x.Ai=new x(0,0,0),x.Gi=new x(255,255,255),x.RED=new x(255,0,0),x.Ah=new x(0,0,255),m.ji="RANDOMIZE_COLORS",m.hi="LEVEL_CHANGED",m.ws="PLAYER_INTERACTED",m.sn="GAME_SHOWN",v.ze=!1,v.startTime=h.now()/1e3,l.Xi()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);