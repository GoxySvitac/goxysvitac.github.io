!function(t){"use strict";var s=function(){return B.t(this,"")},i=i||{};class h{static substr(t,s,i){if(null==i)i=t.length;else if(i<0){if(0!=s)return"";i=t.length+i}return t.substr(s,i)}static remove(t,s){let i=t.indexOf(s);return-1!=i&&(t.splice(i,1),!0)}static now(){return Date.now()}}h.i=!0,Math.i=!0;class e{static random(t){return t<=0?0:Math.floor(Math.random()*t)}}e.i=!0;class n{static h(t,s){let i="";do{i="0123456789ABCDEF".charAt(15&t)+i,t>>>=4}while(t>0);if(null!=s)for(;i.length<s;)i="0"+i;return i}}n.i=!0;class r{constructor(){r.o||this.l()}l(){this.u=[],this._=[],this.children=[],this.z=0,this.visible=!0,this.g=!1,r.M.push(this)}p(){return null==this.parent?this.x:this.parent.p()+this.x}m(){return null==this.parent?this.y:this.parent.m()+this.y}S(){return this.width}k(){return this.height}v(t){this.children.push(t),t.parent=this}P(t){this.C=t}L(t){this._.push(t)}A(t){this.z=t}F(){this.children.sort((function(t,s){return t.z-s.z}));let t=0,s=this.children;for(;t<s.length;)s[t++].F()}N(t){}G(){}O(t){if(!this.visible)return;this.N(t);let s=0,i=this.children;for(;s<i.length;)i[s++].O(t)}T(){let t=0,s=this.children;for(;t<s.length;)s[t++].T();null!=this.C&&this.C.T(this)}addEventListener(t){this.u.push(t)}removeEventListener(t){h.remove(this.u,t)}fireEvent(t){let s=0,i=this.u;for(;s<i.length;){let h=i[s];++s,-1!=h.R().indexOf(t.name)&&h.D(t)}}static B(t){let s=0,i=r.M;for(;s<i.length;){let h=i[s];++s,null==h.parent&&h.O(t)}}static W(){let t=0,s=r.M;for(;t<s.length;){let i=s[t];++t,null==i.parent&&i.T()}}static I(){let t=[],s=0,i=r.M;for(;s<i.length;){let h=i[s];++s,h.u=[],h.g?t.push(h):h._=[]}r.M=t}static U(){let t=0,s=r.M;for(;t<s.length;)s[t++].G()}static H(t){let s=0,i=null,h=0,e=r.M;for(;h<e.length;){let n=e[h];++h,0!=n._.length&&(n.z>=s&&t.x>=n.p()&&t.x<n.p()+n.width&&t.y>=n.m()&&t.y<n.m()+n.height&&(s=n.z,i=n))}if(r.Y=i,null!=i){t.x-=i.p(),t.y-=i.m(),t.component=i;let s=0,h=i._;for(;s<h.length;)h[s++].V(t)}}static q(t){if(null!=r.Y){t.x-=r.Y.p(),t.y-=r.Y.m(),t.component=r.Y;let s=0,i=r.Y._;for(;s<i.length;)i[s++].K(t);r.Y=null}}static j(t){if(null!=r.Y){t.x-=r.Y.p(),t.y-=r.Y.m(),t.component=r.Y;let s=0,i=r.Y._;for(;s<i.length;)i[s++].X(t)}}static Z(t){let s=0,i=null,h=0,e=r.M;for(;h<e.length;){let n=e[h];++h,0!=n._.length&&(n.z>=s&&t.x>=n.p()&&t.x<n.p()+n.width&&t.y>=n.m()&&t.y<n.m()+n.height&&(s=n.z,i=n))}if(r.J!=i){if(null!=r.J){t.component=r.J;let s=0,i=r.J._;for(;s<i.length;)i[s++].$(t)}if(null!=i){t.component=i;let s=0,h=i._;for(;s<h.length;)h[s++].tt(t)}r.J=i}}}r.i=!0;class o extends r{constructor(){r.o?super():(r.o=!0,super(),r.o=!1,this.l())}l(){this.fontSize=24,this.st=0,this.it=48,this.ht=new W({et:30}),super.l(),o.nt=this,this.g=!0}rt(t){this.ht.ot(t),this.ht.lt(0,this.it,this.ut,this.dt)}}o.i=!0;class l extends o{constructor(){r.o=!0,super(),r.o=!1,this.l()}l(){this.ct=h.now()/1e3,this.ft=!1,this.wt=10,this._t=1,this.gt=0,this.Mt=[],this.xt=[],this.St=[],this.bt=0,this.yt=0,this.kt=0,this.vt=0,this.Pt=11,this.level=1,this.input="",this.direction=a.Et,this.Ct=5,this.Lt=0,this.startTime=0,this.state=u.At,this.Ft=3,this.Nt=2,this.Gt=1,super.l(),this.ht.Ot("AudioVisionR"),this.zt(960,540),this.ht.Tt(2),this.Rt(2),this.Dt(),this.Bt(),this.ht.Wt(U(this,this.It)),this.ht.Ut(this),this.ht.Ht(this)}zt(t,s){this.Yt=t,this.Vt=s,this.ut=t,this.dt=s-this.it-this.st,this.qt=(this.dt-this.it)/l.Kt.length,this.jt=(this.dt-this.it)/l.Xt.length,this.ht.Zt(t,s)}Rt(t){this.Qt=t,this.Jt=Math.round(this.ut/t),this.$t=Math.round(this.dt/t);let s=[],i=0,h=this.$t;for(;i<h;){++i;let t=[],h=0,e=this.Jt;for(;h<e;)++h,t.push(0);s.push(t)}this.ts=s;let e=[],n=0,r=this.$t;for(;n<r;){++n;let t=[],s=0,i=this.Jt;for(;s<i;)++s,t.push(0);e.push(t)}this.ss=e}Dt(){this.hs=new Array(this.Ft+1);let t=0,s=this.hs.length;for(;t<s;)this.hs[t++]=new p(0,0,0)}It(t){let s=h.now()/1e3;switch(this.es=s-this.ct,this.ct=s,this.state.ns){case 0:case 5:break;case 1:this.rs(),new g(this),new M(this),this.state=u.os;break;case 2:this.rs(),new _(this,this.Gt,this.Nt),this.state=u.os;break;case 3:this.rs(),new x(this),this.state=u.os;break;case 4:this.rs(),this.input="",this.Mt=[a.ls,a.Et],this.ft=!1,this.us(this.level),new c(this),new M(this),this.state=u.ds;break;case 6:this.cs(),this.fireEvent(new z(m.fs));break;case 7:for(;this.xt.length>2;)this.xt.shift();2==this.xt.length&&(this.gt=0,this.bt=0,this.Mt=this.xt.slice(),this.ws(),this._s(this.St[0].charAt(0)),this.state=u.gs),this.fireEvent(new z(m.fs));break;case 8:this.Ms(this.xt[this.gt])&&(this.ht.ps.xs(0),this.ht.ps.Ss(),this.startTime=h.now()/1e3,this.state=u.bs);break;case 9:1==this.ys()&&(this.gt++,this.gt==this.xt.length&&(this.gt=0,this.bt++),this.bt==this.St[0].length?(this.xt=[],this.state=u.ds):(this.ws(),this._s(this.St[0].charAt(this.bt)),this.state=u.gs));break;case 10:this.us(++this.level),this.state=u.ds;break;case 11:this.us(--this.level),this.state=u.ds;break;case 12:this.rs(),new f(this),this.state=u.os}r.U(),r.W(),r.B(this.ht),this.ht.ks()}rs(){r.I(),this.Bt(),new v(this,{hs:this.hs,Gt:this.Gt,Nt:this.Nt})}vs(t){if(null==this.ht.ps)return;if("\n"==t||"Enter"==t)return void(this.state=u.Ps);if(" "==t||"Space"==t)return r.H(new D(this.ht.Es(),this.ht.Cs(),null)),void this.fireEvent(new z(m.fs));let s=0,i=l.Ls.length;for(;s<i;)if(l.Ls.charAt(s++)==t)return this.input+=t,void this.fireEvent(new z(m.fs))}As(t){null!=this.ht.ps&&(t==o.Fs?this.state=u.At:t==o.Ns?(this.xt=this.Mt.slice(),this.state=u.Gs):t==o.Os||t==o.zs?(this.xt.push(a.ls),this.state=u.Gs):t==o.Ts||t==o.Rs?(this.xt.push(a.Ds),this.state=u.Gs):t==o.Bs||t==o.Ws?(this.xt.push(a.Et),this.state=u.Gs):t==o.Is||t==o.Us?(this.xt.push(a.Hs),this.state=u.Gs):t==o.Ys?this.state=u.Vs:t==o.qs?this.state=u.Ks:t==o.js&&(this.input=this.input.substring(0,this.input.length-1)),this.fireEvent(new z(m.fs)))}V(t){null==this.ht.ps&&this.ht.Xs(441e3),r.H(t),this.fireEvent(new z(m.fs))}K(t){r.q(t),this.fireEvent(new z(m.fs))}Zs(t){r.Z(t),this.fireEvent(new z(m.fs))}X(t){r.j(t),this.fireEvent(new z(m.fs))}tt(t){}$(t){}us(t,s){this.level=0|Math.max(1,Math.min(t,l.Qs.length));let i=null!=s?s:l.Ls.substring(0,this.level);this.St=[i.charAt(i.length-1)],this.Js=[1];let h=0,n=this.wt;for(;h<n;){++h;let t="",s=1+e.random(this._t),n=0;for(;n<s;)++n,t+=i.charAt(e.random(i.length));this.St.push(t),this.Js.push(s)}this.vt=0,this.kt=0,this.$s(),this.ti(),this._s(this.St[0].charAt(0)),this.fireEvent(new z(m.si,this.level)),this.fireEvent(new z(m.fs))}$s(){this.ii="";let t=0,s=this.Js[0];for(;t<s;)++t,this.ii+="_ ";this.ii=this.ii.substring(0,this.ii.length-1)}ti(){this.yt=2}_s(t){this.ht.hi(1);let s=0,i=this.$t;for(;s<i;){let t=s++,i=0,h=this.Jt;for(;i<h;)this.ts[t][i++]=0}this.ei(t),this.ni(),this.ri(),this.oi(Math.round((this.Jt-(this.right-this.left+1))/2-this.left),Math.round((this.$t-(this.bottom-this.top+1))/2-this.top)),this.ri(),this.ht.hi(0),this.li()}cs(){if(0==this.input.length)return void(this.state=u.ds);this.ht.ps.ai(),this.ht.ps.Ss(),this.startTime=-1;let t=0,s=0|Math.min(this.input.length,this.St[0].length);for(;t<s;){let s=t++;if(this.St[0].charAt(s)!=this.input.charAt(s))return void this.ui();this.ii=P.di(this.ii,2*this.vt,this.St[0].charAt(0)),this.vt++,this.St[0]=h.substr(this.St[0],1,null),this.input=this.input.substring(1)}this.ci()}ui(){this.input="",this.kt>0&&this.yt--,this.fi(),this.yt<=0?this.state=u.wi:this.state=u.ds}ci(){this.ti(),this.vt==this.Js[0]?(this.St.shift(),this.Js.shift(),this.kt++,this.vt=0,this.$s(),this.ti(),0==this.St.length?(this._i(),this.state=u.Ks):(this.gi(),this._s(this.St[0].charAt(0)),this.state=u.ds)):(this.gi(),this._s(this.St[0].charAt(0)),this.state=u.ds)}ys(){return this.startTime<0?0:Math.min((h.now()/1e3-this.startTime)/this.Lt,1)}ws(){this.Mi=Math.round(960/(1/this.es)),this.xi=0,this.delay=0,this.ht.ps.pi(),this.ht.ps.ai(),this.startTime=-1}Ms(t){if(null==this.ht.ps)return!1;this.direction=t;let s=this.right-this.left+1,i=this.bottom-this.top+1,h=2/s,e=2/i,n=Math.round(44100/this.$t*this.Ct);switch(t.ns){case 0:let t=this.right-this.xi;for(;t-- >=this.left+1;){let s=this.top,h=this.bottom+1;for(;s<h;){let h=s++;this.mi(t,h)&&this.ht.ps.Si({frequency:1e3*Math.pow(2,(-(h-this.bottom)-i/2)*e),clip:.5,bi:1,yi:this.delay,ki:this.delay+n,vi:0,amplitude:1})}if(this.delay+=n,this.Lt=this.delay/44100,t==this.left)return!0;if(++this.xi%this.Mi==0)return!1}break;case 1:let r=this.bottom-this.xi;for(;r-- >=this.top+1;){let t=this.left,i=this.right+1;for(;t<i;){let i=t++;this.mi(i,r)&&this.ht.ps.Si({frequency:1e3*Math.pow(2,(i-this.left-s/2)*h),clip:.5,bi:1,yi:this.delay,ki:this.delay+n,vi:0,amplitude:1})}if(this.delay+=n,this.Lt=this.delay/44100,r==this.top)return!0;if(++this.xi%this.Mi==0)return!1}break;case 2:let o=this.left+this.xi,l=this.right+1;for(;o<l;){let t=o++,s=this.top,h=this.bottom+1;for(;s<h;){let h=s++;this.mi(t,h)&&this.ht.ps.Si({frequency:1e3*Math.pow(2,(-(h-this.bottom)-i/2)*e),clip:.5,bi:1,yi:this.delay,ki:this.delay+n,vi:0,amplitude:1})}if(this.delay+=n,this.Lt=this.delay/44100,t==this.right)return!0;if(++this.xi%this.Mi==0)return!1}break;case 3:let a=this.top+this.xi,u=this.bottom+1;for(;a<u;){let t=a++,i=this.left,e=this.right+1;for(;i<e;){let e=i++;this.mi(e,t)&&this.ht.ps.Si({frequency:1e3*Math.pow(2,(e-this.left-s/2)*h),clip:.5,bi:1,yi:this.delay,ki:this.delay+n,vi:0,amplitude:1})}if(this.delay+=n,this.Lt=this.delay/44100,t==this.bottom)return!0;if(++this.xi%this.Mi==0)return!1}}return!1}mi(t,s){return!(s+-1<0||s+-1>=this.$t)&&(!(t+-1<0||t+-1>=this.Jt)&&(this.ts[s+-1][t+-1]!=this.ts[s][t]||!(t<0||t>=this.Jt)&&(this.ts[s+-1][t]!=this.ts[s][t]||!(t+1<0||t+1>=this.Jt)&&(this.ts[s+-1][t+1]!=this.ts[s][t]||!(s<0||s>=this.$t)&&(!(t+-1<0||t+-1>=this.Jt)&&(this.ts[s][t+-1]!=this.ts[s][t]||!(t<0||t>=this.Jt)&&(this.ts[s][t]!=this.ts[s][t]||!(t+1<0||t+1>=this.Jt)&&(this.ts[s][t+1]!=this.ts[s][t]||!(s+1<0||s+1>=this.$t)&&(!(t+-1<0||t+-1>=this.Jt)&&(this.ts[s+1][t+-1]!=this.ts[s][t]||!(t<0||t>=this.Jt)&&(this.ts[s+1][t]!=this.ts[s][t]||!(t+1<0||t+1>=this.Jt)&&this.ts[s+1][t+1]!=this.ts[s][t])))))))))))}gi(){if(null==this.ht.ps)return;let t=this.ht.ps.Pi(),s=1;for(;s<9;){let i=s++;this.ht.ps.Si({frequency:1024*i,clip:.333,bi:1,yi:t+1837*i,ki:t+1837*(i+1),vi:0,amplitude:1})}}fi(){if(null==this.ht.ps)return;let t=this.ht.ps.Pi(),s=1;for(;s<9;){let i=s++;this.ht.ps.Si({frequency:1024/i,clip:.333,bi:1,yi:t+1837*i,ki:t+1837*(i+1),vi:0,amplitude:1})}}_i(){if(null==this.ht.ps)return;let t=this.ht.ps.Pi(),s=1;for(;s<9;){let i=s++;this.ht.ps.Si({frequency:128*i,clip:.333,bi:1,yi:t+1837*i,ki:t+1837*(i+1),vi:0,amplitude:1})}}ei(t){this.rt(p.Ei),this.ht.ot(p.Ci),this.ht.Li(t,this.dt>>1,this.ut>>1,this.dt>>1)}ni(){let t=this.ht.Ai(),s=0,i=0,h=this.$t;for(;i<h;){let h=i++,e=0,n=0,r=this.Jt;for(;n<r;)this.ts[h][n++]=t[s][e],e+=this.Qt;s+=this.Qt}}ri(){this.left=this.Jt-1,this.top=this.$t-1,this.right=0,this.bottom=0;let t=0,s=this.$t;for(;t<s;){let s=t++,i=0,h=this.Jt;for(;i<h;){let t=i++;this.ts[s][t]>0&&(this.left=0|Math.min(t,this.left),this.top=0|Math.min(s,this.top),this.right=0|Math.max(t,this.right),this.bottom=0|Math.max(s,this.bottom))}}}oi(t,s){let i=0,h=this.$t;for(;i<h;){let t=i++,s=0,h=this.Jt;for(;s<h;)this.ss[t][s++]=0}let e=0,n=this.$t;for(;e<n;){let i=e++,h=i-s;if(h<0||h>=this.$t)continue;let n=0,r=this.Jt;for(;n<r;){let s=n++,e=s-t;e>=0&&e<this.Jt&&(this.ss[i][s]=this.ts[h][e])}}let r=0,o=this.$t;for(;r<o;){let t=r++,s=0,i=this.Jt;for(;s<i;){let i=s++;this.ts[t][i]=this.ss[t][i]}}}li(){if(this.rt(this.background),this.kt>0)return;this.ht.ot(this.Fi);let t=this.left*this.Qt,s=this.it+this.top*this.Qt,i=this.top,h=this.bottom+1;for(;i<h;){let h=i++,e=t,n=this.left,r=this.right+1;for(;n<r;)0!=this.ts[h][n++]&&this.ht.lt(e,s,this.Qt,this.Qt),e+=this.Qt;s+=this.Qt}}Ni(){switch(this.ht.Gi(16),this.ht.ot(this.Oi),this.direction.ns){case 0:this.zi(this.ys());break;case 1:this.Ti(this.ys());break;case 2:this.Ri(this.ys());break;case 3:this.Di(this.ys())}}Di(t){let s=Math.round(this.top+(this.bottom-this.top)*t);this.ht.Bi(this.left*this.Qt,this.it+s*this.Qt,(this.right+1)*this.Qt,this.it+s*this.Qt)}Ri(t){let s=Math.round(this.left+(this.right-this.left)*t);this.ht.Bi(s*this.Qt,this.it+this.top*this.Qt,s*this.Qt,this.it+(this.bottom+1)*this.Qt)}zi(t){let s=Math.round(this.right+(this.left-this.right)*t);this.ht.Bi(s*this.Qt,this.it+this.top*this.Qt,s*this.Qt,this.it+(this.bottom+1)*this.Qt)}Ti(t){let s=Math.round(this.bottom+(this.top-this.bottom)*t);this.ht.Bi(this.left*this.Qt,this.it+s*this.Qt,(this.right+1)*this.Qt,this.it+s*this.Qt)}Wi(t){return new S(-t,t).Ii()}Bt(){this.alpha=64*Math.pow(255,1/this.ht.Ui()),this.Hi=this.alpha/255,this.background=new b(Math.random(),.333,.05).Yi(),this.Fi=p.Ci,this.Oi=p.RED.duplicate().alpha(192),this.hs[0]=this.background;let t=this.Pt/100,s=Math.random(),i=1,h=1;this.hs[this.Gt]=new b(s+this.Wi(t),1+this.Wi(t),1+this.Wi(t)).Yi(),s=s+.5+this.Wi(t),i=1,h=1,this.hs[this.Nt]=new b(s+this.Wi(t),1+this.Wi(t),1+this.Wi(t)).Yi(),this.hs[this.Ft]=this.hs[this.Gt].duplicate().Vi(this.hs[this.Nt]),this.fireEvent(new z(m.qi))}static Ki(){new l}}l.i=!0;var a=i["ji"]={Xi:!0,Zi:null,Ds:{Qi:"LEFT",ns:0,Ji:"avis.Direction",toString:s},Et:{Qi:"UP",ns:1,Ji:"avis.Direction",toString:s},ls:{Qi:"RIGHT",ns:2,Ji:"avis.Direction",toString:s},Hs:{Qi:"DOWN",ns:3,Ji:"avis.Direction",toString:s}};a.Zi=[a.Ds,a.Et,a.ls,a.Hs];var u=i["$i"]={Xi:!0,Zi:null,os:{Qi:"NOP",ns:0,Ji:"avis.GameState",toString:s},At:{Qi:"INTRO",ns:1,Ji:"avis.GameState",toString:s},th:{Qi:"HELP",ns:2,Ji:"avis.GameState",toString:s},sh:{Qi:"OPTIONS",ns:3,Ji:"avis.GameState",toString:s},ih:{Qi:"NEW_GAME",ns:4,Ji:"avis.GameState",toString:s},ds:{Qi:"PLAYING",ns:5,Ji:"avis.GameState",toString:s},Ps:{Qi:"GUESS",ns:6,Ji:"avis.GameState",toString:s},Gs:{Qi:"SOUND_PLAY",ns:7,Ji:"avis.GameState",toString:s},gs:{Qi:"SOUND_PLAY_CONTINUE",ns:8,Ji:"avis.GameState",toString:s},bs:{Qi:"SOUND_PLAYING",ns:9,Ji:"avis.GameState",toString:s},Ks:{Qi:"NEXT_LEVEL",ns:10,Ji:"avis.GameState",toString:s},Vs:{Qi:"PREVIOUS_LEVEL",ns:11,Ji:"avis.GameState",toString:s},wi:{Qi:"GAME_OVER",ns:12,Ji:"avis.GameState",toString:s}};u.Zi=[u.os,u.At,u.th,u.sh,u.ih,u.ds,u.Ps,u.Gs,u.gs,u.bs,u.Ks,u.Vs,u.wi];class d extends r{constructor(t){super(),this.hh=t}N(t){this.hh.li(),this.hh.Ni()}}d.i=!0;class c extends r{constructor(t){r.o=!0,super(),r.o=!1,this.l(t)}l(t){this.borderWidth=2,super.l(),this.hh=t,this.Dt(),this.eh(),this.nh(),this.rh(),this.oh(),t.addEventListener(this),this.D(null)}D(t){this.ah.lh.text=0==this.hh.kt?"Level: "+this.hh.St[0]:"Word "+this.hh.kt+": "+this.hh.ii,this.ah.uh(),this.dh.lh.text="Input : "+this.hh.input,this.dh.uh();let s="",i=0,h=this.hh.Mt.length;for(;i<h;)s+=this.fh(this.hh.Mt[i++]);this.wh.lh.text="Play "+s,this.wh.uh()}R(){return[m.fs]}Dt(){this._h=new Array(5),this.gh=new Array(5),this.Mh=new Array(5),Math.random(),new S(.5,1).Ii(),Math.random();let t=this.hh.Wi(1),s=0,i=this._h.length;for(;s<i;){let i=s++,h=i/(this._h.length-1);this._h[i]=p.Ei,this.gh[i]=new b(2*h/3+t,.777,1).Yi(),this.Mh[i]=new b(2*h/3,.777,1).Yi()}}eh(){this.screen=new O({y:this.hh.it,width:this.hh.ut,height:this.hh.dt});let t=this;this.screen.L(new R({V:function(s){let i=new E(s.x-t.hh.ut/2,s.y-t.hh.dt/2);i.multiply(1/i.length()),Math.abs(i.xh(new E(-1,0)))<=Math.PI/4?t.hh.xt.push(a.Ds):Math.abs(i.xh(new E(0,-1)))<=Math.PI/4?t.hh.xt.push(a.Et):Math.abs(i.xh(new E(1,0)))<=Math.PI/4?t.hh.xt.push(a.ls):Math.abs(i.xh(new E(0,1)))<=Math.PI/4&&t.hh.xt.push(a.Hs),t.hh.state=u.Gs}}))}nh(){let t=new d(this.hh);t.width=this.hh.ut,t.height=this.hh.dt,this.screen.v(t)}rh(){let t=new O({width:this.hh.ut,height:2*this.hh.fontSize});this.screen.v(t),t.P(new L);let s=new O({height:2*this.hh.fontSize});s.P(new N),t.v(s);let i=new O({background:p.Ci.duplicate().multiply(.5),Fi:p.Ei,ph:this.hh.fontSize,text:"☰",margin:this.hh.fontSize>>1});i.uh(),s.v(i),this.ah=new O({background:p.Ci,Fi:p.Ei,ph:this.hh.fontSize,margin:this.hh.fontSize>>1}),s.v(this.ah);let h=this;i.L(new R({V:function(t){h.hh.removeEventListener(h),h.hh.state=u.At}}))}oh(){let t=new O({y:this.hh.dt-2*this.hh.fontSize-this.borderWidth,width:this.hh.ut,height:2*this.hh.fontSize});this.screen.v(t),t.P(new L);let s=new O({height:2*this.hh.fontSize});t.v(s),s.P(new N),this.dh=new O({background:this._h[0],Fi:this.gh[0],borderColor:this.Mh[0],borderWidth:this.borderWidth,ph:this.hh.fontSize,margin:this.hh.fontSize>>1}),s.v(this.dh),this.wh=new O({background:this._h[1],Fi:this.gh[1],borderColor:this.Mh[1],borderWidth:this.borderWidth,ph:this.hh.fontSize,margin:this.hh.fontSize>>1,text:"Play"}),this.wh.uh(),s.v(this.wh),this.mh=new O({background:this._h[2],Fi:this.gh[2],borderColor:this.Mh[2],borderWidth:this.borderWidth,ph:this.hh.fontSize,margin:this.hh.fontSize>>1,text:"Okay"}),this.mh.uh(),s.v(this.mh),this.Sh=new O({background:this._h[3],Fi:this.gh[3],borderColor:this.Mh[3],bh:this._h[3].duplicate().Vi(this.gh[3]).multiply(.5),yh:this._h[3].duplicate().Vi(this.gh[3]).multiply(.5).kh(),borderWidth:this.borderWidth,ph:this.hh.fontSize,margin:this.hh.fontSize>>1,text:"Keep"}),this.Sh.uh(),s.v(this.Sh);let i=new O({background:this._h[4],Fi:this.gh[4],borderColor:this.Mh[4],borderWidth:this.borderWidth,ph:this.hh.fontSize,margin:this.hh.fontSize>>1,text:"Hack"});i.uh(),s.v(i);let e=this;this.wh.L(new R({V:function(t){let s=e.hh.Mt.slice();e.hh.xt=s,e.hh.state=u.Gs}})),this.mh.L(new R({V:function(t){e.hh.state=u.Ps}})),this.Sh.L(new R({V:function(t){e.Sh.lh.pressed=!e.Sh.lh.pressed,e.hh.ft=e.Sh.lh.pressed}})),i.L(new R({V:function(t){if(0==e.hh.input.length)return;e.hh.us(e.hh.level,e.hh.input);let s=e.hh.Mt.slice();e.hh.xt=s,e.hh.state=u.Gs,e.hh.St[0]=h.substr(e.hh.input,0,null),e.hh.Js[0]=e.hh.input.length}}))}fh(t){switch(t.ns){case 0:return"←";case 1:return"↑";case 2:return"→";case 3:return"↓"}}}c.i=!0;class f extends r{constructor(t){super();let s=new O({y:t.it,width:t.ut,height:t.dt,background:p.Ei});s.P(new L);let i=new O({width:t.ut>>1,height:t.dt>>1});i.P(new F),s.v(i);let h=new O({background:p.Ci,Fi:p.Ei,text:"Game Over :: it was "+t.St[0]+".. .",ph:t.fontSize});i.v(h),h.L(new R({V:function(s){t.state=u.At}}))}}f.i=!0;class w{constructor(t,s,i){this.hh=t,this.r1=s,this.r2=i,this.init()}init(){let t=this.hh.hs[this.r1].duplicate().Vi(this.hh.hs[this.r2]).multiply(.666),s=t.duplicate().multiply(.5),i=s.kh(),h=new O({y:this.hh.it,width:this.hh.ut,height:this.hh.dt,background:t});h.P(new L),h.v(new O({width:Math.round(.8*this.hh.ut),height:Math.round(this.hh.dt),background:s}));let e=new O({width:Math.round(.8*this.hh.ut),height:Math.round(this.Ph().length*this.hh.fontSize*1.23456789)});e.P(new F),h.v(e);let n=this.Ph(),r=0,o=n.length;for(;r<o;)e.v(new O({Fi:i,text:n[r++],ph:this.hh.fontSize}));let l=this;h.L(new R({V:function(t){l.Eh()}}))}}w.i=!0;class _ extends w{constructor(t,s,i){super(t,s,i)}Ph(){return["Покушај да погодиш речи","које ти компјутер свира","кликом на неко слово","или преко тастатуре","и овером са ентер,","брисањем бекспејсом,","слушањем са контролом,","усмеравањем стрелицама,","прескакањем нумпадом [+-] и","враћањем на почетак ескејпом."]}Eh(){this.hh.state=u.At}}_.i=!0;class g{constructor(t){let s=new O({y:t.it,width:t.ut,height:t.dt,background:t.background});s.P(new L);let i=new O({width:t.ut>>1,height:t.dt>>1});i.P(new F),s.v(i);let h=new O({background:p.RED,Fi:p.RED.duplicate().kh(),text:"РАЗВАЛИ..!",ph:t.fontSize});i.v(h);let e=new O({background:p.Ch,Fi:p.Ch.duplicate().kh(),text:"КАКО СЕ ИГРА?",ph:t.fontSize});i.v(e);let n=new O({background:p.Ci,Fi:p.Ci.duplicate().kh(),text:"ПОДЕСИ.. .",ph:t.fontSize});i.v(n),h.L(new R({V:function(s){t.state=u.ih}})),e.L(new R({V:function(s){t.state=u.th}})),n.L(new R({V:function(s){t.state=u.sh}}))}}g.i=!0;class M extends r{constructor(t){r.o=!0,super(),r.o=!1,this.l(t)}l(t){this.Lh=null,this.Ah=.87654321,this.Fi=p.Ci,this.Fh=p.Ci,this.Nh=p.RED,this.bh=p.Ei,this.yh=p.Ci,this.buttons=[],super.l(),this.hh=t,this.Gh(),this.Oh(),this.Lh=this.buttons[t.level-1],this.Lh.lh.pressed=!0;let s=this;t.addEventListener(new T({D:function(t){s.Lh.lh.pressed=!1;let i=t.data;s.buttons[i-1].lh.pressed=!0,s.Lh=s.buttons[i-1]},R:function(){return[m.si]}}))}Gh(){let t=new b(Math.random(),.5,.333).Yi(),s=new O({x:0,y:this.hh.it,width:2*this.hh.qt*1.5|0,height:this.hh.dt-this.hh.it,background:t});s.P(new F);let i=new O({x:2*this.hh.qt*1.5|0,y:this.hh.it,width:2*this.hh.qt*1.5|0,height:this.hh.dt-this.hh.it,background:t});i.P(new F);let h=new O({x:this.hh.ut-4*this.hh.qt*1.5|0,y:this.hh.it,width:2*this.hh.qt*1.5|0,height:this.hh.dt-this.hh.it,background:t});h.P(new F);let e=new O({x:this.hh.ut-2*this.hh.qt*1.5|0,y:this.hh.it,width:2*this.hh.qt*1.5|0,height:this.hh.dt-this.hh.it,background:t});e.P(new F);let n=0;for(;n<30;){let t=new O({Fi:this.Fi,Nh:this.Nh,Fh:this.Fh,yh:this.yh,bh:this.bh,text:l.Kt.charAt(n++),ph:this.hh.qt*this.Ah|0});s.v(t),this.buttons.push(t)}let r=0;for(;r<30;){let t=new O({Fi:this.Fi,Nh:this.Nh,Fh:this.Fh,yh:this.yh,bh:this.bh,text:l.zh.charAt(r++),ph:this.hh.qt*this.Ah|0});i.v(t),this.buttons.push(t)}let o=0;for(;o<26;){let t=new O({Fi:this.Fi,Nh:this.Nh,Fh:this.Fh,yh:this.yh,bh:this.bh,text:l.Xt.charAt(o++),ph:this.hh.jt*this.Ah|0});h.v(t),this.buttons.push(t)}let a=0;for(;a<26;){let t=new O({Fi:this.Fi,Nh:this.Nh,Fh:this.Fh,yh:this.yh,bh:this.bh,text:l.Th.charAt(a++),ph:this.hh.jt*this.Ah|0});e.v(t),this.buttons.push(t)}}Rh(t){null!=this.Dh&&(this.Dh.lh.Bh=!1,this.Dh=null),null!=t&&(t.lh.Bh=!0,this.Dh=t)}Oh(){let t=this,s=0,i=this.buttons;for(;s<i.length;)i[s++].L(new R({V:function(s){let i=s.component;t.Rh(i),t.hh.ft?t.hh.input+=i.lh.text.substring(0):t.hh.input=i.lh.text.substring(0)},K:function(s){t.hh.ft||(t.Rh(),t.hh.state!=u.ds&&t.hh.state!=u.Gs&&t.hh.state!=u.bs&&t.hh.state!=u.gs||(t.hh.state=u.Ps))},X:function(s){r.Z(new D(t.hh.ht.Es(),t.hh.ht.Cs(),null))},tt:function(s){let i=s.component;t.Rh(i),t.hh.ft?t.hh.input+=i.lh.text:t.hh.input=i.lh.text.substring(0)},$:function(s){t.Rh(),t.hh.ft?t.hh.input=h.substr(t.hh.input,0,t.hh.input.length-1):t.hh.input=""}}))}}M.i=!0;class x extends r{constructor(t){super(),this.hh=t,this.Wh(),this.eh(),this.oh(),this.Ih()}Wh(){this.Uh=this.hh.hs[this.hh.Gt].duplicate().Vi(this.hh.hs[this.hh.Nt]).multiply(2).Hh(),this.Yh=this.Uh.duplicate().kh(),this.Vh=this.hh.hs[this.hh.Gt].duplicate().Vi(this.hh.hs[this.hh.Nt]).multiply(.5).Hh(),this.qh=this.Vh.duplicate().kh(),this.Kh=this.Uh.duplicate().Vi(this.Vh);let t=this.Kh.jh();this.Xh=new b(t.Zh+.333,1,1).Yi(),this.Qh=this.Xh.kh(),this.Jh=new b(t.Zh+.666,1,.5).Yi(),this.$h=new b(t.Zh+.666,1,1).Yi()}eh(){this.screen=new O({y:this.hh.it,width:this.hh.ut,height:this.hh.dt,background:this.Kh})}Ih(){this.te=new O({y:this.hh.it-this.hh.fontSize,width:this.hh.ut,height:this.hh.dt}),this.te.P(new L);let t=new O({width:this.hh.ut>>1,height:Math.round(12*this.hh.fontSize*1.3)});t.P(new F),this.te.v(t),this.se=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.se),this.ie=new G({background:this.Jh,Fi:this.$h,min:1,max:l.Qs.length,value:this.hh.level}),t.v(this.ie),this.he=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.he),this.ee=new G({background:this.Jh,Fi:this.$h,min:1,max:10,value:this.hh.Ct}),t.v(this.ee),this.ne=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.ne),this.re=new G({background:this.Jh,Fi:this.$h,min:1,max:16,value:this.hh._t}),t.v(this.re),this.oe=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.oe),this.le=new G({background:this.Jh,Fi:this.$h,min:1,max:30,value:this.hh.wt}),t.v(this.le),this.ae=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.ae),this.ue=new G({background:this.Jh,Fi:this.$h,min:1,max:10,value:this.hh.Qt}),t.v(this.ue),this.de=new O({background:this.Xh,Fi:this.Qh,ph:this.hh.fontSize}),t.v(this.de),this.ce=new G({background:this.Jh,Fi:this.$h,min:1,max:60,value:0|this.hh.ht.Ui()}),t.v(this.ce)}oh(){let t=new O({x:0,y:this.hh.dt-2*this.hh.fontSize,width:this.hh.ut,height:2*this.hh.fontSize});this.screen.v(t),t.P(new A),this.mh=new O({background:this.Uh,Fi:this.Yh,text:"Okay",ph:this.hh.fontSize,margin:this.hh.fontSize>>1}),t.v(this.mh),this.fe=new O({background:this.Vh,Fi:this.qh,text:"Cancel",ph:this.hh.fontSize,margin:this.hh.fontSize>>1}),t.v(this.fe);let s=this;this.mh.L(new R({V:function(t){s.hh.level=s.ie.lh.value,s.hh._t=s.re.lh.value,s.hh.wt=s.le.lh.value,s.hh.Ct=s.ee.lh.value,s.hh.Rt(s.ue.lh.value),s.hh.ht.we(s.ce.lh.value),s.hh.state=u.At}})),this.fe.L(new R({V:function(t){s.hh.state=u.At}}))}G(){this.se.lh.text="Level: "+l.Qs.charAt(this.ie.lh.value-1),this.he.lh.text="Sound time: "+this.ee.lh.value+" [sec]",this.ne.lh.text="Longest word: "+this.re.lh.value+" [chr]",this.oe.lh.text="Words per level: "+this.le.lh.value,this.ae.lh.text="Quantization: "+this.ue.lh.value,this.de.lh.text="FPS: "+this.ce.lh.value}}x.i=!0;class p{constructor(t,s,i,h){this.r=t,this._e=s,this.b=i,this.a=null!=h?h:255}duplicate(){return new p(this.r,this._e,this.b,this.a)}alpha(t){return this.a=Math.round(Math.max(0,Math.min(t,255))),this}multiply(t){return this.r=Math.round(this.r*t),this._e=Math.round(this._e*t),this.b=Math.round(this.b*t),this}Hh(){return this.r=0|Math.max(0,Math.min(this.r,255)),this._e=0|Math.max(0,Math.min(this._e,255)),this.b=0|Math.max(0,Math.min(this.b,255)),this}jh(){this.Hh();let t=this.r/255,s=this._e/255,i=this.b/255,h=Math.max(t,Math.max(s,i)),e=h-Math.min(t,Math.min(s,i)),n=0;return 0!=e&&(n=h==t?(s-i)/e+(s<i?6:0):h==s?(i-t)/e+2:(t-s)/e+4,n/=6),new b(n,0==h?0:e/h,h)}Vi(t,s){return null==s&&(s=.5),s=Math.max(0,Math.min(s,1)),this.r=Math.round(this.r+s*(t.r-this.r)),this._e=Math.round(this._e+s*(t._e-this._e)),this.b=Math.round(this.b+s*(t.b-this.b)),this}ge(){let t=.299*this.r+.587*this._e+.114*this.b|0;return this.r=t,this._e=t,this.b=t,this}kh(t){let s=this.jh(),i=this.duplicate().ge();s.Zh+=.5;let h=null!=t?t.s:null;if(s.s*=null!=h?h:.5,i.r<96){let i=null!=t?t.b:null;s.b=null!=i?i:1}else{let i=null!=t?t.b:null;s.b=1-(null!=i?i:1)}return s.Yi()}}p.i=!0;class m{}m.i=!0;class S{constructor(t,s){this.min=t,this.max=s}Ii(){return this.min+Math.random()*(this.max-this.min)}}S.i=!0;class b{constructor(t,s,i){this.Zh=t,this.s=s,this.b=i}Hh(){this.Zh=(this.Zh%1+1)%1,this.s=Math.max(0,Math.min(this.s,1)),this.b=Math.max(0,Math.min(this.b,1))}Yi(){this.Hh();let t=this.b,s=0,i=0,h=0,e=Math.floor(6*this.Zh),n=6*this.Zh-e,r=t*(1-this.s),o=t*(1-n*this.s),l=t*(1-(1-n)*this.s);switch(e%6){case 0:s=t,i=l,h=r;break;case 1:s=o,i=t,h=r;break;case 2:s=r,i=t,h=l;break;case 3:s=r,i=o,h=t;break;case 4:s=l,i=r,h=t;break;case 5:s=t,i=r,h=o}return new p(Math.round(255*s),Math.round(255*i),Math.round(255*h))}}b.i=!0;class y{constructor(t){this.frequency=t.frequency,this.amplitude=t.amplitude,this.vi=t.vi,this.yi=t.yi,this.ki=t.ki,this.bi=t.bi,this.clip=t.clip}set(t){this.frequency=t.frequency,this.amplitude=t.amplitude,this.vi=t.vi,this.yi=t.yi,this.ki=t.ki,this.bi=t.bi,this.clip=t.clip}}y.i=!0;class k{constructor(t){this.note=new y({frequency:0,amplitude:0,vi:0,yi:0,ki:0,bi:0,clip:0}),this.Me=0,this.xe=!1,this.pe=0,this.me=7938e3,this.bufferSize=4096,this.sampleRate=44100,this.me=null!=t?t:this.me,this.Se=new Array(t),this.be=new Array(t),this.ye=new Array(t),this.ke=new Array(t),this.Me=(t/this.bufferSize|0)*this.bufferSize,this.ai()}ve(t){let s=2*Math.PI*t.frequency/this.sampleRate,i=t.yi,h=t.ki+1;for(;i<h;){let h=Math.sin(t.vi)*t.amplitude;h=Math.pow(h,t.bi),h=Math.max(-t.clip,Math.min(t.clip,h));let e=i++%this.Me;this.Se[e]+=h,this.ye[e]+=1,(t.vi+=s)>2*Math.PI&&(t.vi-=2*Math.PI)}}step(){if(!this.xe){let t=0,s=this.bufferSize;for(;t<s;)this.write(t++,0);return}let t=this.pe,s=0,i=this.bufferSize;for(;s<i;){let t,i=s++,h=this.ye[this.pe];t=0==h?0:this.Se[this.pe]/h,this.write(i,t),this.pe++,this.pe==this.Me&&(this.pe=0)}this.restore(t,this.bufferSize)}Si(t){this.note.set(t),this.ve(this.note)}restore(t,s){let i=t,h=t+s;for(;i<h;){let t=i++;this.Se[t]=this.be[t],this.ye[t]=this.ke[t]}}ai(){let t=this.Se,s=0,i=t.length;for(;s<i;)t[s++]=0;let h=this.ye,e=0,n=h.length;for(;e<n;)h[e++]=0;let r=this.be,o=0,l=r.length;for(;o<l;)r[o++]=0;let a=this.ke,u=0,d=a.length;for(;u<d;)a[u++]=0}Pi(){return this.pe}xs(t){this.pe=t}pi(){this.xe=!1}Ss(){this.xe=!0}}k.i=!0;class v extends r{constructor(t,s){r.o=!0,super(),r.o=!1,this.l(t,s)}l(t,s){this.Pe=[p.Ei,p.Ei],this.Ee=[],this.Ce=64,this.Le=5,this.Ae=[],super.l(),this.lh=s,this.hh=t,this.Fe();let i=this;t.addEventListener(new T({R:function(){return[m.qi+""]},D:function(t){i.Ne()}}))}Fe(){this.alpha=.666*this.hh.alpha,this.Ge=new O({width:this.hh.ut,height:this.hh.it});let t=0,s=this.Le;for(;t<s;){let s=0|Math.abs(t++),i=new O({height:this.hh.it,ph:this.hh.it>>1,margin:this.hh.it>>2,text:"Неда Нешић и Горан Свитлица у великој су љубави.. ."});i.A(1e3-s),i.uh(),this.Ge.v(i),this.Ae.push(i)}let i=0,h=this.Ce;for(;i<h;){++i;let t=new O({width:1,height:this.hh.it});this.Ge.v(t),this.Ee.push(t)}this.Ge.F(),this.Ne()}Ne(){let t=this.hh.hs[v.Oe?this.lh.Nt:this.lh.Gt].duplicate().jh();this.Pe[v.Oe?0:1]=new b(t.Zh,1,.111).Yi().alpha(this.alpha),t.b*=10;let s=0,i=this.Le;for(;s<i;){let i=s++,h=Math.abs(i/this.Le-.5);h=Math.pow(h,.1);let e=t.Yi();this.Ae[i].lh.Fi=e.alpha(255*(1-h))}v.Oe=!v.Oe}G(){let t=h.now()/1e3-v.startTime,s=this.Pe[v.Oe?0:1].duplicate();this.Ge.lh.background=s.Vi(this.Pe[v.Oe?1:0],t).alpha(this.alpha);let i=0,e=this.Le;for(;i<e;){let s=i++,e=Math.round(s+100*t);0==s&&e>=this.hh.ut+this.Ae[s].width&&(e=0,v.startTime=h.now()/1e3,this.Ne()),this.Ae[s].x=this.hh.ut-e}let n=0,r=this.Ce;for(;n<r;){let t=n++,s=this.Ge.lh.background.duplicate();this.Ee[t].lh.background=s.alpha(t/(this.Ce-1)*255),this.Ee[t].x=t+this.Ae[this.Le-1].x+this.Ae[this.Le-1].width}}}v.i=!0;class P{static di(t,s,i){return h.substr(t,0,s)+i+h.substr(t,s+1,null)}}P.i=!0;class E{constructor(t,s){this.x=t,this.y=s}multiply(t){return this.x*=t,this.y*=t,this}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}xh(t){return Math.atan2(this.x*t.y-this.y*t.x,this.x*t.x+this.y*t.y)}}E.i=!0;class C{constructor(){}T(t){}}C.i=!0;class L extends C{constructor(){super()}T(t){let s=t.children.length,i=0;for(;i<s;){let s=i++,h=t.S()>>1,e=t.children[s].S()>>1;t.children[s].x=h-e;let n=t.k()>>1,r=t.children[s].k()>>1;t.children[s].y=n-r}}}L.i=!0;class A extends C{constructor(){super()}T(t){let s=t.children.length,i=t.width/s,h=0;for(;h<s;){let s=h++;t.children[s].x=s*i|0,t.children[s].y=0,t.children[s].width=Math.ceil(i),t.children[s].height=t.height}}}A.i=!0;class F extends C{constructor(){super()}T(t){let s=t.children.length,i=t.height/s,h=0;for(;h<s;){let s=h++;t.children[s].x=0,t.children[s].y=s*i|0,t.children[s].width=t.width,t.children[s].height=Math.ceil(i)}}}F.i=!0;class N extends C{constructor(){super()}T(t){let s=t.children.length,i=0,h=0;for(;h<s;){let s=h++;t.children[s].x=i,t.children[s].y=0,i+=t.children[s].width}t.width=i}}N.i=!0;class G extends r{constructor(t){super(),this.lh=t;let s=t.x;this.x=null!=s?s:0;let i=t.y;this.y=null!=i?i:0;let h=t.width;this.width=null!=h?h:0;let e=t.height;this.height=null!=e?e:0;let n=t.margin;this.lh.margin=null!=n?n:0;let r=t.min;this.lh.min=null!=r?r:0;let o=t.max;this.lh.max=null!=o?o:0;let l=t.value;this.lh.value=null!=l?l:0;let a=this;this.L(new R({V:function(t){a.ze(t.x,t.y)},X:function(t){a.ze(t.x,t.y)}}))}ze(t,s){t=Math.round(Math.max(0,Math.min(this.width,t))),this.lh.value=Math.round(this.lh.min+t/this.width*(this.lh.max-this.lh.min))}Te(){return Math.round((this.lh.value-this.lh.min)/(this.lh.max-this.lh.min)*this.S())}N(t){t.ot(this.lh.background),t.lt(this.p(),this.m(),this.S(),this.k()),t.ot(this.lh.Fi),t.lt(this.p(),this.m(),this.Te(),this.k())}}G.i=!0;class O extends r{constructor(t){super(),this.lh=t;let s=t.x;this.x=null!=s?s:0;let i=t.y;this.y=null!=i?i:0;let h=t.width;this.width=null!=h?h:0;let e=t.height;this.height=null!=e?e:0;let n=this.lh.bh;this.lh.bh=null!=n?n:this.lh.Fi;let r=t.text;this.lh.text=null!=r?r:"";let o=t.ph;this.lh.ph=null!=o?o:0;let l=t.pressed;this.lh.pressed=null!=l&&l;let a=t.margin;this.lh.margin=null!=a?a:0;let u=t.Bh;this.lh.Bh=null!=u&&u;let d=t.borderWidth;this.lh.borderWidth=null!=d?d:0}N(t){super.N(t),this.lh.Bh?(null!=this.lh.Nh&&(t.ot(this.lh.Nh),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.lh.Fh&&t.ot(this.lh.Fh)):this.lh.pressed?(null!=this.lh.yh&&(t.ot(this.lh.yh),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.lh.bh&&t.ot(this.lh.bh)):(null!=this.lh.background&&(t.ot(this.lh.background),t.lt(this.p(),this.m(),this.S(),this.k())),null!=this.lh.Fi&&t.ot(this.lh.Fi)),t.Li(this.lh.text,this.lh.ph,this.p()+(this.S()>>1),this.m()+(this.k()>>1)),null!=this.lh.borderColor&&(t.Gi(this.lh.borderWidth),t.ot(this.lh.borderColor),t.Re(this.p(),this.m(),this.S()-this.lh.borderWidth,this.k()-this.lh.borderWidth))}uh(){this.width=o.nt.ht.De(this.lh.text,this.lh.ph)+2*this.lh.margin,this.height=o.nt.ht.Be(this.lh.text,this.lh.ph)+2*this.lh.margin}}O.i=!0;class z{constructor(t,s){this.name=t,this.data=s}}z.i=!0;class T{constructor(t){this.lh=t;let s=this.lh.D;this.lh.D=null!=s?s:U(this,this.We);let i=this.lh.R;this.lh.R=null!=i?i:U(this,this.Ie)}We(t){}Ie(){return[]}D(t){this.lh.D(t)}R(){return this.lh.R()}}T.i=!0;class R{constructor(t){this.lh=t;let s=this.lh.V;this.lh.V=null!=s?s:U(this,this.Ue);let i=this.lh.K;this.lh.K=null!=i?i:U(this,this.Ue);let h=this.lh.Zs;this.lh.Zs=null!=h?h:U(this,this.Ue);let e=this.lh.X;this.lh.X=null!=e?e:U(this,this.Ue);let n=this.lh.tt;this.lh.tt=null!=n?n:U(this,this.Ue);let r=this.lh.$;this.lh.$=null!=r?r:U(this,this.Ue)}Ue(t){}V(t){this.lh.V(t)}K(t){this.lh.K(t)}Zs(t){this.lh.Zs(t)}X(t){this.lh.X(t)}tt(t){this.lh.tt(t)}$(t){this.lh.$(t)}}R.i=!0;class D{constructor(t,s,i){this.x=t,this.y=s,this.component=i}}D.i=!0;class B{static t(t,s){if(null==t)return"null";if(s.length>=5)return"<...>";let h=typeof t;switch("function"==h&&(t.i||t.Xi)&&(h="object"),h){case"function":return"<function>";case"object":if(t.Ji){let h=i[t.Ji].Zi[t.ns],e=h.Qi;return h.He?(s+="\t",e+"("+function(i){let e=[];{let i=0,n=h.He;for(;i<n.length;){let h=n[i];i+=1,e.push(B.t(t[h],s))}}return e}().join(",")+")"):e}if(t instanceof Array){let i="[";s+="\t";let h=0,e=t.length;for(;h<e;){let e=h++;i+=(e>0?",":"")+B.t(t[e],s)}return i+="]",i}let h;try{h=t.toString}catch(t){return"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){let s=t.toString();if("[object Object]"!=s)return s}let e="{\n";s+="\t";let n=null!=t.hasOwnProperty,r=null;for(r in t)n&&!t.hasOwnProperty(r)||"prototype"!=r&&"__class__"!=r&&"__super__"!=r&&"__interfaces__"!=r&&"__properties__"!=r&&(2!=e.length&&(e+=", \n"),e+=s+r+" : "+B.t(t[r],s));return e+="\n"+(s=s.substring(1))+"}",e;case"string":return t;default:return String(t)}}}B.i=!0;class W{constructor(t){this.Ye=!1,this.ct=-1,this._=[],this.Ve=[],this.qe=[],this.Ke=-666,this.je=-666,this.we(t.et);let s=[],i=0;for(;i<1024;)++i,s.push(!1);this.qe=s,this.Xe();let h=this;window.setTimeout((function(){h.Ze()}),10)}Xe(){window.addEventListener("resize",U(this,this.Ze));let t=this;window.document.onpointermove=function(s){t.Qe?t.X(s):t.Zs(s),s.preventDefault()},window.document.onpointerdown=function(s){t.Je(s),s.preventDefault()},window.document.onpointercancel=function(s){t.$e(s)},window.document.onpointerup=function(s){t.$e(s)},window.document.onkeydown=function(s){t.qe[s.keyCode]=!0;let i=0,h=t.Ve;for(;i<h.length;)h[i++].As(s.keyCode);let e=0,n=t.Ve;for(;e<n.length;)n[e++].vs(s.key);"Backspace"==s.key&&s.preventDefault()},window.document.onkeyup=function(s){return t.qe[s.keyCode]=!1}}Je(t){this.tn(t);let s=0,i=this._;for(;s<i.length;)i[s++].V(new D(this.Es(),this.Cs(),null));this.Qe=!0}$e(t){this.tn(t);let s=0,i=this._;for(;s<i.length;)i[s++].K(new D(this.Es(),this.Cs(),null));this.Qe=!1}Zs(t){this.tn(t);let s=0,i=this._;for(;s<i.length;)i[s++].Zs(new D(this.Es(),this.Cs(),null))}X(t){this.tn(t);let s=0,i=this._;for(;s<i.length;)i[s++].X(new D(this.Es(),this.Cs(),null))}tn(t){let s=this.canvas.getBoundingClientRect(),i=this.sn(this.hn,this.en,t.clientX-s.left,t.clientY-s.top);this.je=0|i.x,this.Ke=0|i.y}sn(t,s,i,h){return this.Ye?new E(this.ut*(1-h/s),this.dt*i/t):new E(this.ut*(i/t),this.dt*h/s)}Tt(t){this.nn=[],this.rn=[];let s=0;for(;s<t;){let t=s++;this.nn.push(window.document.createElement("canvas")),this.nn[t].width=this.ut,this.nn[t].height=this.dt,window.document.body.appendChild(this.nn[t]),this.rn.push(this.nn[t].getContext("2d",null)),this.nn[t].style.display="none"}this.hi(0);let i=[],h=0,e=this.dt;for(;h<e;){++h;let t=[],s=0,e=this.ut;for(;s<e;)++s,t.push(0);i.push(t)}this.xi=i}hi(t){null!=this.canvas&&(this.canvas.style.display="none"),this.nn[t].style.display="block",this.canvas=this.nn[t],this.on=this.rn[t]}Xs(t){this.ps=new I(t)}Zt(t,s){this.ut=t,this.dt=s}we(t){this.et=t,this.ct=h.now()/1e3,this.ln=1/this.et}Ui(){return this.et}Wt(t){let s=null,i=this;s=function(e){let n=h.now()/1e3;n-i.ct>=i.ln&&(t(i.ln),i.ct=n),window.requestAnimationFrame(s)},window.requestAnimationFrame(s)}an(t,s,i){return"#"+n.h(t,2)+n.h(s,2)+n.h(i,2)}ot(t){let s=255==t.a?this.an(t.r,t._e,t.b):"rgba("+t.r+","+t._e+","+t.b+","+t.a/255+")";this.on.fillStyle=s,this.on.strokeStyle=s}Gi(t){this.on.lineCap="round",this.on.lineJoin="round",this.on.lineWidth=t}Bi(t,s,i,h){this.on.beginPath(),this.on.moveTo(t,s),this.on.lineTo(i,h),this.on.stroke()}lt(t,s,i,h){this.on.fillRect(t,s,i,h)}Re(t,s,i,h){this.on.strokeRect(t,s,i,h)}De(t,s){return this.on.font="bold "+s+"px sans-serif",this.on.textAlign="left",this.on.textBaseline="middle",0|this.on.measureText(t).width}Be(t,s){return s}Li(t,s,i,h){this.on.font="bold "+s+"px sans-serif";let e=this.on.measureText(t).width,n=Math.round(i-e/2);this.on.textAlign="left",this.on.textBaseline="middle",this.on.fillText(t,n,h)}Ai(){let t=this.on.getImageData(0,0,this.ut,this.dt).data,s=0,i=this.dt;for(;s<i;){let i=s++,h=0,e=this.ut;for(;h<e;){let s=h++;this.xi[i][s]=t[4*(i*this.ut+s)+2]}}return this.xi}ks(){}Ut(t){this._.push(t)}Es(){return Math.round(this.je)}Cs(){return Math.round(this.Ke)}Ht(t){this.Ve.push(t)}Ot(t){window.document.title=t}Ze(){let t,s=window.innerWidth,i=window.innerHeight,h=s/i;h<1?(t=this.dt/this.ut,this.Ye=!0):(t=this.ut/this.dt,this.Ye=!1),h>t?(this.en=i,this.hn=i*t|0):(this.hn=s,this.en=s/t|0);let e=0,n=this.nn;for(;e<n.length;){let t=n[e];++e,this.Ye?(t.style.transform="rotate(-90deg)",t.style.transformOrigin="50% 50%",t.style.width=this.en+"px",t.style.height=this.hn+"px"):(t.style.transform="none",t.style.transformOrigin="50% 50%",t.style.width=this.hn+"px",t.style.height=this.en+"px")}}}W.i=!0;class I extends k{constructor(t){super(t),this.init()}init(){this.context=new AudioContext({sampleRate:this.sampleRate}),this.un=this.context.createScriptProcessor(this.bufferSize,0,1),this.un.onaudioprocess=U(this,this.dn),this.un.connect(this.context.destination)}dn(t){this.buffer=t.outputBuffer.getChannelData(0),this.step()}write(t,s){let i=s;s>1&&(i=1),i<-1&&(i=-1),this.buffer[t]=i}}function U(s,i){return null==i?null:(null==i.cn&&(i.cn=t.fn++),null==s.wn?s.wn={}:h=s.wn[i.cn],null==h&&(h=i.bind(s),s.wn[i.cn]=h),h);var h}I.i=!0,t.fn|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(h.now=performance.now.bind(performance)),String.i=!0,Array.i=!0,B._n={}.toString,r.o=!1,r.M=[],o.Fs=27,o.js=8,o.Ns=17,o.Ts=37,o.Bs=38,o.Os=39,o.Is=40,o.Us=98,o.Rs=100,o.zs=102,o.Ws=104,o.qs=107,o.Ys=109,l.Kt="АБВГДЂЕЖЗИЈКЛЉМНЊОПРСТЋУФХЦЧЏШ",l.zh="абвгдђежзијклљмнњопрстћуфхцчџш",l.Xt="ABCDEFGHIJKLMNOPQRSTUVWXYZ",l.Th="abcdefghijklmnopqrstuvwxyz",l.Qs=l.Kt+l.zh+l.Xt+l.Th,l.Ls=l.Qs.substring(0),p.Ei=new p(0,0,0),p.Ci=new p(255,255,255),p.RED=new p(255,0,0),p.Ch=new p(0,0,255),m.qi="RANDOMIZE_COLORS",m.si="LEVEL_CHANGED",m.fs="PLAYER_INTERACTED",v.Oe=!1,v.startTime=h.now()/1e3,l.Ki()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);